<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport"/>
    <title>Kaspi ç”µå•†åˆ©æ¶¦è®¡ç®—å™¨</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Microsoft YaHei', sans-serif;
        }

        body {
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #1a2a6c);
            color: #333;
            padding: 10px;
            min-height: 100vh;
            position: relative;
        }

        /* å€’è®¡æ—¶æ ·å¼ */
        #countdown {
            position: fixed;
            top: 10px;
            left: 10px;
            background: rgba(255, 255, 255, 0.9);
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: bold;
            color: #d35400;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.3);
            z-index: 1000;
            display: flex;
            align-items: center;
        }
        
        #countdown .icon {
            margin-right: 8px;
            font-size: 18px;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            padding: 20px;
            position: relative;
            overflow: hidden;
        }

        .container::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 8px;
            background: linear-gradient(90deg, #ff8c00, #ffd700, #ff8c00);
        }

        .header {
            text-align: center;
            margin-bottom: 20px;
            position: relative;
            padding-bottom: 15px;
            padding-top: 40px;
        }

        .header h1 {
            font-size: 24px;
            color: #1a2a6c;
            margin-bottom: 8px;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);
        }

        .header h2 {
            font-size: 18px;
            color: #d35400;
            font-weight: 600;
        }

        .header::after {
            content: "";
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 150px;
            height: 3px;
            background: linear-gradient(90deg, #1a2a6c, #3498db, #1a2a6c);
            border-radius: 2px;
        }

        /* ä¿®æ”¹æ±‡ç‡æ˜¾ç¤ºæ ·å¼ */
        .exchange-rate {
            background-color: #e3f2fd;
            padding: 12px;
            border-radius: 10px;
            margin-bottom: 15px;
            text-align: center;
            border: 1px solid #bbdefb;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            align-items: center; /* æ·»åŠ è¿™è¡Œå®ç°å‚ç›´å±…ä¸­ */
            gap: 8px;
        }

        .exchange-rate label {
            font-weight: bold;
            color: #0d47a1;
            font-size: 16px;
            white-space: nowrap;
            margin: 0; /* æ·»åŠ è¿™è¡Œæ¶ˆé™¤å¯èƒ½çš„é»˜è®¤è¾¹è· */
        }

        .exchange-rate input {
            font-size: 16px;
            padding: 8px 12px;
            border: 2px solid #64b5f6;
            border-radius: 8px;
            width: 150px;
            text-align: center;
            color: #1565c0;
            font-weight: bold;
            background-color: #fff;
            margin: 0; /* æ·»åŠ è¿™è¡Œæ¶ˆé™¤å¯èƒ½çš„é»˜è®¤è¾¹è· */
            vertical-align: middle; /* æ·»åŠ è¿™è¡Œç¡®ä¿è¾“å…¥æ¡†å‚ç›´å¯¹é½ */
        }

        .input-section {
            display: grid;
            grid-template-columns: 1fr;
            gap: 15px;
            margin-bottom: 15px;
        }

        .section {
            background-color: #f8f9fa;
            border-radius: 12px;
            padding: 15px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.08);
            border: 1px solid #e9ecef;
        }

        .section-title {
            font-size: 18px;
            color: #1a2a6c;
            margin-bottom: 12px;
            padding-bottom: 6px;
            border-bottom: 2px solid #3498db;
            font-weight: 600;
        }

        .form-group {
            margin-bottom: 15px;
            position: relative;
        }

        .form-group label {
            display: block;
            margin-bottom: 6px;
            font-weight: 500;
            color: #2c3e50;
            font-size: 14px;
        }

        .form-control {
            width: 100%;
            padding: 10px 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 15px;
            transition: all 0.3s;
        }

        .form-control:focus {
            border-color: #3498db;
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.2);
            outline: none;
        }

        .form-control::placeholder {
            color: #aaa;
            font-style: italic;
        }

        .error-message {
            color: #e74c3c;
            font-size: 13px;
            margin-top: 4px;
            display: none;
        }

        .dimensions {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 8px;
        }

        /* æ–°å¢Kaspiå”®ä»·åŒåˆ—æ ·å¼ */
        .kaspi-price-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 8px;
        }

        .kaspi-price-box {
            display: flex;
            flex-direction: column;
        }

        .kaspi-price-label {
            font-size: 12px;
            color: #7f8c8d;
            margin-bottom: 4px;
        }

        .output-section {
            display: grid;
            grid-template-columns: 1fr;
            gap: 15px;
        }

        .output-group {
            background-color: #e8f5e9;
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 12px;
            border: 1px solid #c8e6c9;
        }

        .output-group label {
            display: block;
            margin-bottom: 6px;
            font-weight: 500;
            color: #2e7d32;
            font-size: 14px;
        }

        .output-value {
            font-size: 16px;
            font-weight: bold;
            color: #1b5e20;
            background-color: #fff;
            padding: 8px 12px;
            border-radius: 6px;
            border: 1px solid #a5d6a7;
            text-align: right;
        }

        .results-section {
            background-color: #fffde7;
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
            border: 1px solid #ffe082;
        }

        .results-grid {
            display: grid;
            grid-template-columns: repeat(1, 1fr);
            gap: 12px;
            margin-top: 15px;
        }

        .result-item {
            padding: 12px;
            border-radius: 8px;
            background-color: #fff9c4;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .result-item.final {
            background-color: #ffecb3;
            padding: 16px;
            font-weight: bold;
        }

        .result-label {
            font-weight: 600;
            color: #5d4037;
            font-size: 15px;
        }

        .result-value {
            font-size: 18px;
            font-weight: bold;
            color: #e65100;
            min-width: 100px;
            text-align: right;
        }

        .btn-calculate {
            display: block;
            width: 100%;
            padding: 14px;
            background: linear-gradient(to right, #1a2a6c, #b21f1f);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            margin: 20px 0;
            transition: all 0.3s;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
        }

        .btn-calculate:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.3);
        }

        .btn-calculate:active {
            transform: translateY(1px);
        }

        .footer {
            text-align: center;
            margin-top: 15px;
            color: #7f8c8d;
            font-size: 13px;
            padding-top: 12px;
            border-top: 1px solid #ecf0f1;
        }

        .category-container {
            position: relative;
        }

        .category-levels {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 8px;
            margin-bottom: 8px;
        }

        .category-search {
            position: relative;
        }

        .category-search input {
            padding-right: 40px;
        }

        .search-icon {
            position: absolute;
            right: 12px;
            top: 50%;
            transform: translateY(-50%);
            cursor: pointer;
            color: #7f8c8d;
        }

        .search-results {
            position: absolute;
            top: 100%;
            left: 0;
            width: 100%;
            max-height: 150px;
            overflow-y: auto;
            background: white;
            border: 1px solid #ddd;
            border-radius: 8px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
            z-index: 100;
            display: none;
        }

        .search-result-item {
            padding: 8px 12px;
            cursor: pointer;
            transition: background 0.2s;
            font-size: 14px;
        }

        .search-result-item:hover {
            background-color: #f0f8ff;
        }

        .language-switcher {
            position: absolute;
            top: 10px;
            right: 10px;
            display: flex;
            gap: 8px;
            z-index: 10;
        }

        .lang-btn {
            background: #1a2a6c;
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 20px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s;
            font-size: 13px;
        }

        .lang-btn.active {
            background: #ff8c00;
            transform: scale(1.05);
        }

        .currency-selector {
            margin-top: 15px;
            display: flex;
            justify-content: center;
            gap: 15px;
        }

        .currency-option {
            display: flex;
            align-items: center;
            cursor: pointer;
        }

        .currency-radio {
            margin-right: 6px;
        }

        .currency-label {
            font-weight: 500;
            font-size: 14px;
        }

        /* å¼€å…³æ ·å¼ */
        .switch-container {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-top: 5px;
            padding: 8px 0;
            border-top: 1px dashed #e0e0e0;
        }

        .switch-label {
            font-size: 14px;
            color: #555;
            font-weight: 500;
        }

        .switch {
            position: relative;
            display: inline-block;
            width: 45px;
            height: 22px;
        }

        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 22px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 3px;
            bottom: 3px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .slider {
            background-color: #2196F3;
        }

        input:focus + .slider {
            box-shadow: 0 0 1px #2196F3;
        }

        input:checked + .slider:before {
            transform: translateX(23px);
        }

        /* è´¹ç”¨å•ä»·å®¹å™¨æ ·å¼ */
        .cost-price-container {
            display: grid;
            grid-template-columns: 1fr; 
            gap: 8px;
            margin-top: 12px;
            background: #f5f9ff; 
            padding: 12px;
            border-radius: 8px;
            border: 1px solid #e3f2fd;
        }

        .cost-price-group {
            background: #fff; 
            padding: 10px 12px;
            border-radius: 8px;
            border: 1px solid #bbdefb;
            transition: all 0.3s ease;
        }

        .cost-price-group:hover {
            border-color: #64b5f6;
            box-shadow: 0 2px 8px rgba(33, 150, 243, 0.1);
        }

        .cost-price-group label {
            display: block;
            margin-bottom: 6px;
            font-size: 13px;
            color: #1976d2;
            font-weight: 500;
        }

        .cost-price-group input {
            width: 100%;
            padding: 8px 10px;
            border: 1px solid #e3f2fd;
            border-radius: 6px;
            font-size: 14px;
            color: #0d47a1;
            background: #fff;
            transition: all 0.3s ease;
        }

        .cost-price-group input:focus {
            border-color: #2196f3;
            box-shadow: 0 0 0 3px rgba(33, 150, 243, 0.1);
            outline: none;
        }

        /* æ–°å¢æ ·å¼ */
        .commission-display {
            margin-top: 5px;
            font-size: 13px;
            color: #3498db;
            font-weight: 500;
        }

        /* ä¿„è¯­ç•Œé¢æ ·å¼ */
        .lang-ru .purchase-label::after,
        .lang-ru .shipping-label::after,
        .lang-ru .gross-profit-label::after {
            content: " (â‚¸)";
        }

        .lang-zh .gross-profit-label::after {
            content: " (Â¥)";
        }

        .lang-ru .form-control::placeholder {
            font-style: normal;
        }

        .toggle-off {
            color: #e74c3c;
            font-weight: bold;
        }

        /* ç§»åŠ¨ç«¯ä¼˜åŒ– */
        @media (max-width: 480px) {
            .header h1 {
                font-size: 20px;
            }
            
            .header h2 {
                font-size: 16px;
            }
            
            .exchange-rate {
                flex-direction: row; /* ä¿®æ”¹ä¸ºæ¨ªå‘æ’åˆ— */
                align-items: center;
                padding: 8px 12px;
            }
            
            .exchange-rate label {
                font-size: 14px;
            }
            
            .exchange-rate input {
                width: 100px; /* è°ƒæ•´ç§»åŠ¨ç«¯è¾“å…¥æ¡†å®½åº¦ */
                padding: 6px 8px;
                font-size: 14px;
            }
            
            .dimensions {
                grid-template-columns: 1fr 1fr 1fr;
            }
            
            .section {
                padding: 12px;
            }
            
            .section-title {
                font-size: 16px;
            }
            
            .btn-calculate {
                padding: 12px;
                font-size: 16px;
                margin: 15px 0;
            }
            
            .result-label, .result-value {
                font-size: 14px;
            }
            
            .result-value {
                min-width: 80px;
                font-size: 16px;
            }
            
            .currency-selector {
                flex-direction: column;
                gap: 8px;
            }
            
            .language-switcher {
                top: 5px;
                right: 5px;
            }
            
            .lang-btn {
                padding: 5px 10px;
                font-size: 12px;
            }
            
            .results-section {
                padding: 15px;
            }
            
            .kaspi-price-container {
                grid-template-columns: 1fr;
            }
            
            #countdown {
                font-size: 12px;
                padding: 6px 10px;
            }
        }

        /* å¹³æ¿ä¼˜åŒ– */
        @media (min-width: 481px) and (max-width: 768px) {
            .input-section {
                grid-template-columns: 1fr;
            }
            
            .output-section {
                grid-template-columns: 1fr;
            }
            
            .container {
                padding: 15px;
            }
            
            .header {
                padding-top: 30px;
            }
            
            .header h1 {
                font-size: 22px;
            }
            
            .header h2 {
                font-size: 17px;
            }
            
            .dimensions {
                grid-template-columns: 1fr 1fr 1fr;
                gap: 10px;
            }
        }

        /* æ¡Œé¢ä¼˜åŒ– */
        @media (min-width: 769px) {
            .input-section {
                grid-template-columns: 1fr 1fr;
            }
            
            .output-section {
                grid-template-columns: 1fr 1fr;
            }
        }

        /* é¿å…ç§»åŠ¨ç«¯é”®ç›˜å¼¹å‡ºæ—¶é®æŒ¡è¾“å…¥æ¡† */
        @media (max-height: 600px) and (orientation: landscape) {
            .container {
                max-height: 95vh;
                overflow-y: auto;
            }
        }


        .history-section {
            background-color: #f8f9fa;
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
            border: 1px solid #e9ecef;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.08);
        }

        .history-section h3 {
            font-size: 18px;
            color: #1a2a6c;
            margin-bottom: 15px;
            padding-bottom: 6px;
            border-bottom: 2px solid #3498db;
            font-weight: 600;
        }

        .history-actions {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
            margin-bottom: 15px;
        }

        .history-btn {
            padding: 8px 16px;
            background: linear-gradient(to right, #1a2a6c, #b21f1f);
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .history-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .history-table-container {
            overflow-x: auto;
            max-height: 400px;
            overflow-y: auto;
            border: 1px solid #ddd;
            border-radius: 8px;
        }

        #historyTable {
            width: 100%;
            border-collapse: collapse;
            font-size: 13px;
        }

        #historyTable th {
            background-color: #1a2a6c;
            color: white;
            padding: 10px;
            text-align: left;
            position: sticky;
            top: 0;
            z-index: 10;
        }

        #historyTable td {
            padding: 8px 10px;
            border-bottom: 1px solid #ddd;
        }

        #historyTable tr:nth-child(even) {
            background-color: #f2f2f2;
        }

        #historyTable tr:hover {
            background-color: #e3f2fd;
        }

        #historyTable .delete-btn {
            padding: 5px 10px;
            background-color: #e74c3c;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        #historyTable .delete-btn:hover {
            background-color: #c0392b;
        }

        /* å“åº”å¼è°ƒæ•´ */
        @media (max-width: 768px) {
            .history-table-container {
                font-size: 12px;
            }
            
            #historyTable th, 
            #historyTable td {
                padding: 6px 8px;
            }
            
            .history-actions {
                flex-direction: column;
                align-items: flex-end;
            }
        }
        /* å…è´£å£°æ˜æ ·å¼ */
        .disclaimer-section {
            background-color: #fff3e0;
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
            border: 1px solid #ffcc80;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.08);
        }

        .disclaimer-section h3 {
            color: #e65100;
            font-size: 18px;
            margin-bottom: 15px;
            padding-bottom: 6px;
            border-bottom: 2px solid #ff9800;
        }

        .disclaimer-content p {
            font-size: 14px;
            color: #5d4037;
            margin-bottom: 10px;
            line-height: 1.5;
        }

        /* å¹¿å‘ŠåŒºåŸŸæ ·å¼ */
        .advertisement-section {
            background: linear-gradient(135deg, #1a2a6c, #b21f1f);
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
            color: white;
        }

        .ad-title {
            text-align: center;
            color: white !important;
        }

        .ad-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .ad-item {
            background-color: rgba(255, 255, 255, 0.15);
            border-radius: 8px;
            padding: 15px 10px;
            text-align: center;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.3s;
            cursor: pointer;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .ad-item:hover {
            background-color: rgba(255, 255, 255, 0.25);
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        /* ä¿„è¯­ç•Œé¢éšè—å¹¿å‘Šé¡¹ */
        .lang-ru .ad-grid {
            display: none;
        }

        /* è”ç³»æ–¹å¼æ ·å¼ */
        .contact-section {
            text-align: center;
            margin-top: 20px;
            padding-top: 15px;
            border-top: 1px solid #ecf0f1;
        }

        .contact-info {
            margin-bottom: 15px;
            font-size: 16px;
            font-weight: 500;
        }

        #contact-link {
            display: inline-block;
            padding: 10px 20px;
            background: linear-gradient(to right, #1a2a6c, #b21f1f);
            color: white;
            text-decoration: none;
            border-radius: 30px;
            font-weight: bold;
            transition: all 0.3s;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
        }

        #contact-link:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.3);
        }

        /* å¼¹çª—æ ·å¼ */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
        }

        .modal-content {
            background-color: #fff;
            margin: 10% auto;
            padding: 30px;
            border-radius: 15px;
            max-width: 500px;
            position: relative;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .close {
            position: absolute;
            right: 20px;
            top: 15px;
            font-size: 28px;
            font-weight: bold;
            color: #aaa;
            cursor: pointer;
        }

        .close:hover {
            color: #000;
        }

        #modalBody {
            text-align: center;
            font-size: 18px;
            line-height: 1.6;
        }

        #modalBody img {
            max-width: 100%;
            border-radius: 10px;
            margin-top: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        /* å“åº”å¼è°ƒæ•´ */
        @media (max-width: 768px) {
            .ad-grid {
                grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            }
            
            .modal-content {
                width: 90%;
                margin: 20% auto;
            }
        }
    </style>
</head>
<body>
<div id="countdown">
    <span class="icon">â³</span>
    <span id="countdown-text">æœåŠ¡æˆªæ­¢: --:--:--</span>
</div>

<div class="container">
    <div class="header">
        <h1 id="company-name">æ–°ç–†èˆªè´¸é€šå›½é™…ä¾›åº”é“¾æœ‰é™å…¬å¸</h1>
        <h2 id="app-title">Kaspi ç”µå•†åˆ©æ¶¦è®¡ç®—å™¨</h2>
        <div class="language-switcher">
            <button class="lang-btn active" data-lang="zh">ä¸­æ–‡</button>
            <button class="lang-btn" data-lang="ru">Ğ ÑƒÑÑĞºĞ¸Ğ¹</button>
        </div>
    </div>
    <div class="exchange-rate">
        <label id="exchange-label">å½“å‰æ±‡ç‡ï¼š1å…ƒäººæ°‘å¸å…‘æ¢</label>
        <input id="exchangeRate" min="0" placeholder="è¾“å…¥æ±‡ç‡" step="0.01" type="number" value="70"/>
        <label id="currency-label">å“ˆè¨å…‹æ–¯å¦åšæˆˆ</label>
        <div class="error-message" id="exchange-error">æ±‡ç‡å¿…é¡»å¤§äº0</div>
    </div>
    <div class="input-section">
        <div class="section">
            <h3 class="section-title" id="product-info-title">äº§å“ä¿¡æ¯</h3>
            <div class="form-group category-container">
                <label for="category-search" id="category-label">å•†å“åˆ†ç±»</label>
                <div class="category-search">
                    <input autocomplete="off" class="form-control" id="category-search" placeholder="æœç´¢åˆ†ç±»..." type="text"/>
                    <span class="search-icon">ğŸ”</span>
                    <div class="search-results" id="search-results"></div>
                </div>
                <select class="form-control" id="category-select">
                    <option data-commission="" value="">-- è¯·é€‰æ‹©å•†å“åˆ†ç±» --</option>
                </select>
                <div class="commission-display" id="commission-display">å½“å‰ä½£é‡‘ç‡ï¼š0%</div>
            </div>
            <div class="form-group">
                <label for="purchasePrice" id="purchase-label">é‡‡è´­ä»· (Â¥)</label>
                <input class="form-control" id="purchasePrice" min="0" placeholder="è¾“å…¥é‡‡è´­ä»·" step="0.01" type="number" value=""/>
                <div class="error-message" id="purchase-error">è¯·è¾“å…¥æœ‰æ•ˆçš„é‡‡è´­ä»·</div>
            </div>
            <div class="form-group">
                <label for="shippingCost" id="shipping-label">è¿è´¹ (Â¥)</label>
                <input class="form-control" id="shippingCost" min="0" placeholder="é˜¿æ‹‰æœ¨å›¾è¿è´¹" step="0.01" type="number" value=""/>
                <div class="error-message" id="shipping-error">è¯·è¾“å…¥æœ‰æ•ˆçš„è¿è´¹</div>
            </div>
            <div class="form-group">
                <label for="grossProfit" id="gross-profit-label">è®¡åˆ’æ¯›åˆ© (Â¥)</label>
                <input class="form-control" id="grossProfit" min="0" placeholder="è¾“å…¥è®¡åˆ’æ¯›åˆ©" step="0.01" type="number" value=""/>
                <div class="error-message" id="profit-error">è¯·è¾“å…¥æœ‰æ•ˆçš„è®¡åˆ’æ¯›åˆ©</div>
            </div>
            <div class="form-group">
                <label id="cashback-label">ä¸‹å•è¿”åˆ©ï¼ˆ%ï¼‰</label>
                <input class="form-control" id="cashback" min="0" placeholder="è¾“å…¥ä¸‹å•è¿”åˆ©" step="0.1" type="number" value=""/>
            </div>
            <div class="form-group">
                <label for="paymentMethod" id="payment-label">æ±‡æ¬¾æ–¹å¼</label>
                <select class="form-control" id="paymentMethod">
                    <option value="publicToPublic">é“¶è¡Œå…¬å¯¹å…¬</option>
                    <option value="publicToPrivate">é“¶è¡Œå…¬å¯¹ç§</option>
                    <option value="privateToPrivate">é“¶è¡Œç§å¯¹ç§</option>
                    <option value="wechat">å¾®ä¿¡</option>
                    <option value="alipay">æ”¯ä»˜å®</option>
                    <option value="kaspi">Kaspi.kz</option>
                </select>
            </div>
        </div>
        <div class="section">
            <h3 class="section-title" id="logistics-title">ç‰©æµä¿¡æ¯</h3>
            <div class="form-group">
                <label id="dimension-label">å°ºå¯¸ï¼ˆå˜ç±³ï¼‰</label>
                <div class="dimensions">
                    <div>
                        <input class="form-control" id="length" min="0.1" placeholder="é•¿" step="0.1" type="number" value=""/>
                    </div>
                    <div>
                        <input class="form-control" id="width" min="0.1" placeholder="å®½" step="0.1" type="number" value=""/>
                    </div>
                    <div>
                        <input class="form-control" id="height" min="0.1" placeholder="é«˜" step="0.1" type="number" value=""/>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label for="volume" id="volume-label">ä½“ç§¯ï¼ˆç«‹æ–¹ç±³ï¼‰</label>
                <input class="form-control output-value" id="volume" readonly="" type="text"/>
            </div>
            <div class="form-group">
                <label for="weight" id="weight-label">é‡é‡ï¼ˆåƒå…‹ï¼‰</label>
                <input class="form-control" id="weight" min="0.01" placeholder="è¾“å…¥é‡é‡" step="0.01" type="number" value=""/>
                <div class="error-message" id="weight-error">è¯·è¾“å…¥æœ‰æ•ˆçš„é‡é‡</div>
            </div>
            <div class="form-group">
                <label id="kaspi-price-label">Kaspi å”®ä»·</label>
                <div class="kaspi-price-container">
                    <div class="kaspi-price-box">
                        <div class="kaspi-price-label" id="kaspi-price-cny-label">äººæ°‘å¸ (Â¥)</div>
                        <input class="form-control output-value" id="kaspiPriceCny" readonly="" type="text"/>
                    </div>
                    <div class="kaspi-price-box">
                        <div class="kaspi-price-label" id="kaspi-price-kzt-label">åšæˆˆ (â‚¸)</div>
                        <input class="form-control output-value" id="kaspiPriceKzt" readonly="" type="text"/>
                    </div>
                </div>
            </div>
            <div class="cost-price-container">
                <div class="cost-price-group">
                    <label id="overseas-unit-label">æµ·å¤–ä»“å•ä»· (Â¥/mÂ³)</label>
                    <input id="overseasUnitPrice" min="0" step="1" type="number" value="1000"/>
                </div>
                <div class="cost-price-group">
                    <label id="firstmile-unit-label">å¤´ç¨‹å•ä»· (Â¥/mÂ³)</label>
                    <input id="firstMileUnitPrice" min="0" step="1" type="number" value="100"/>
                </div>
            </div>
        </div>
    </div>
    <button class="btn-calculate" data-ru="Ğ Ğ°ÑÑÑ‡Ğ¸Ñ‚Ğ°Ñ‚ÑŒ Ğ¿Ñ€Ğ¸Ğ±Ñ‹Ğ»ÑŒ" data-zh="è®¡ç®—åˆ©æ¶¦" id="calculateBtn">è®¡ç®—åˆ©æ¶¦</button>
    
    <!-- å¢å€¼æœåŠ¡å’Œä¸šåŠ¡å’¨è¯¢ç§»åŠ¨åˆ°è®¡ç®—æŒ‰é’®ä¸‹æ–¹ -->
    <div class="advertisement-section">
        <h3 class="section-title ad-title" id="ad-title">å¢å€¼æœåŠ¡</h3>
        <div class="ad-grid">
            <div class="ad-item">æµ·å¤–ä»“æœåŠ¡</div>
            <div class="ad-item">Kaspiå¤´ç¨‹ç‰©æµ</div>
            <div class="ad-item">Kaspiç”µå•†å…¥é©»</div>
            <div class="ad-item">ä¸­äºšå›½é™…ç‰©æµ</div>
            <div class="ad-item">ç­¾è¯ä»£åŠæœåŠ¡</div>
            <div class="ad-item">è½¦è¾†å‡ºå¢ƒæ‰‹ç»­</div>
            <div class="ad-item">æµ·å¤–å…¬å¸æ³¨å†Œ</div>
            <div class="ad-item">ä¸­äºšæµ·å¤–ä»“</div>
            <div class="ad-item">äº§å“ç”µå•†ä»£å”®</div>
        </div>
    </div>
    
    <div class="contact-section">
        <div class="contact-info" id="contact-info">
            <span>ä¸šåŠ¡å’¨è¯¢ï¼š</span>
            <a href="#" id="contact-link">ç‚¹å‡»è”ç³»å®¢æœ</a>
        </div>
    </div>
    
    <div class="output-section">
        <div class="section">
            <h3 class="section-title" id="fees-title">å¤´ç¨‹ã€æµ·å¤–ä»“è´¹ç”¨</h3>
            <div class="switch-container">
                <span class="switch-label" id="overseas-toggle-label">æ˜¯å¦è®¡ç®—æµ·å¤–ä»“è´¹ç”¨</span>
                <label class="switch">
                    <input checked="" id="overseasToggle" type="checkbox"/>
                    <span class="slider"></span>
                </label>
            </div>
            <div class="output-group">
                <label id="overseas-label">æµ·å¤–ä»“è´¹ç”¨</label>
                <input class="form-control output-value" id="overseasWarehouse" readonly="" type="text">
            </div>
            <div class="switch-container">
                <span class="switch-label" id="firstmile-toggle-label">æ˜¯å¦è®¡ç®—å¤´ç¨‹è´¹ç”¨</span>
                <label class="switch">
                    <input checked="" id="firstMileToggle" type="checkbox"/>
                    <span class="slider"></span>
                </label>
            </div>
            <div class="output-group">
                <label id="firstmile-label">å¤´ç¨‹è´¹ç”¨</label>
                <input class="form-control output-value" id="firstMile" readonly="" type="text">
            </div>
        </div>
        <div class="section">
            <h3 class="section-title" id="platform-title">å¹³å°è´¹ç”¨</h3>
            <div class="output-group">
                <label id="cashback-amount-label">ä¸‹å•è¿”åˆ©</label>
                <input class="form-control output-value" id="cashbackAmount" readonly="" type="text">
            </div>
            <div class="output-group">
                <label id="kaspi-shipping-label">Kaspi è¿è´¹</label>
                <input class="form-control output-value" id="kaspiShipping" readonly="" type="text">
            </div>
            <div class="output-group">
                <label id="platform-fee-label">å¹³å°ä½£é‡‘</label>
                <input class="form-control output-value" id="platformFee" readonly="" type="text"/>
            </div>
            <div class="output-group">
                <label id="withdrawal-tax-label">æç°ç¨ï¼ˆ4%ï¼‰</label>
                <input class="form-control output-value" id="withdrawalTax" readonly="" type="text"/>
            </div>
        </div>
    </div>
    <div class="results-section">
        <h3 class="section-title" id="return-title">å›æ¬¾è´¹ç”¨</h3>
        <div class="switch-container">
            <span class="switch-label" id="withdrawal-fee-toggle-label">æ˜¯å¦è®¡ç®—æç°æ‰‹ç»­è´¹</span>
            <label class="switch">
                <input checked="" id="withdrawalFeeToggle" type="checkbox"/>
                <span class="slider"></span>
            </label>
        </div>
        <div class="output-group">
            <label id="withdrawal-fee-label">æç°æ‰‹ç»­è´¹ï¼ˆ1%ï¼‰</label>
            <input class="form-control output-value" id="withdrawalFee" readonly="" type="text">
        </div>
        <div class="switch-container">
            <span class="switch-label" id="exchange-loss-toggle-label">æ˜¯å¦è®¡ç®—æ±‡æŸ</span>
            <label class="switch">
                <input checked="" id="exchangeLossToggle" type="checkbox"/>
                <span class="slider"></span>
            </label>
        </div>
        <div class="output-group">
            <label id="exchange-loss-label">æ±‡æŸï¼ˆ1.42%ï¼‰</label>
            <input class="form-control output-value" id="exchangeLoss" readonly="" type="text">
        </div>
        <div class="switch-container">
            <span class="switch-label" id="remittance-fee-toggle-label">æ˜¯å¦è®¡ç®—æ±‡æ¬¾æ‰‹ç»­è´¹</span>
            <label class="switch">
                <input checked="" id="remittanceFeeToggle" type="checkbox"/>
                <span class="slider"></span>
            </label>
        </div>
        <div class="output-group">
            <label id="remittance-fee-label">æ±‡æ¬¾æ‰‹ç»­è´¹</label>
            <input class="form-control output-value" id="remittanceFee" readonly="" type="text">
        </div>
        <div class="results-grid">
            <div class="result-item">
                <div class="result-label" id="kaspi-pay-label">Kaspi payæç°åˆ°è´¦é‡‘é¢</div>
                <div class="result-value" id="kaspiPayAmount">0.00</div>
            </div>
            <div class="result-item">
                <div class="result-label" id="return-amount-label">å›æ¬¾é‡‘é¢</div>
                <div class="result-value" id="returnAmountDisplay">0.00</div>
            </div>
            <div class="result-item">
                <div class="result-label" id="estimated-amount-label">é¢„ä¼°åˆ°è´¦é‡‘é¢</div>
                <div class="result-value" id="estimatedAmount">0.00</div>
            </div>
            <div class="result-item final">
                <div class="result-label" id="profit-label-final">åˆ©æ¶¦</div>
                <div class="result-value" id="profit">0.00</div>
            </div>
        </div>
        <div class="currency-selector">
            <div class="currency-option">
                <input checked="" class="currency-radio" id="currency-cny" name="currency" type="radio" value="cny"/>
                <label class="currency-label" for="currency-cny" id="cny-label">äººæ°‘å¸ (CNY)</label>
            </div>
            <div class="currency-option">
                <input class="currency-radio" id="currency-kzt" name="currency" type="radio" value="kzt"/>
                <label class="currency-label" for="currency-kzt" id="kzt-label">å“ˆè¨å…‹æ–¯å¦åšæˆˆ (KZT)</label>
            </div>
        </div>
    </div>
    
    <!-- å†å²è®°å½•è¡¨æ ¼åŒºåŸŸ -->
    <div class="history-section">
        <h3 class="section-title" id="history-title">å†å²è®°å½•</h3>
        <div class="history-actions">
            <button class="history-btn" id="exportHistoryBtn">å¯¼å‡ºä¸ºCSV</button>
            <button class="history-btn" id="clearHistoryBtn">æ¸…ç©ºå†å²</button>
        </div>
        <div class="history-table-container">
            <table id="historyTable">
                <thead>
                    <tr>
                        <th>å•†å“åˆ†ç±»</th>
                        <th>é‡‡è´­ä»·</th>
                        <th>è¿è´¹</th>
                        <th>è®¡åˆ’æ¯›åˆ©</th>
                        <th>ä¸‹å•è¿”åˆ©(%)</th>
                        <th>æ±‡æ¬¾æ–¹å¼</th>
                        <th>å°ºå¯¸(é•¿å®½é«˜)</th>
                        <th>ä½“ç§¯</th>
                        <th>é‡é‡</th>
                        <th>æµ·å¤–ä»“è´¹ç”¨</th>
                        <th>å¤´ç¨‹è´¹ç”¨</th>
                        <th>ä¸‹å•è¿”åˆ©</th>
                        <th>Kaspiè¿è´¹</th>
                        <th>å¹³å°ä½£é‡‘</th>
                        <th>æç°ç¨</th>
                        <th>æç°æ‰‹ç»­è´¹</th>
                        <th>æ±‡æŸ</th>
                        <th>æ±‡æ¬¾æ‰‹ç»­è´¹</th>
                        <th>Kaspiæç°</th>
                        <th>å›æ¬¾é‡‘é¢</th>
                        <th>é¢„ä¼°åˆ°è´¦</th>
                        <th>åˆ©æ¶¦</th>
                        <th>å¸ç§</th>
                        <th>æ“ä½œ</th>
                    </tr>
                </thead>
                <tbody id="historyTableBody">
                    <!-- å†å²è®°å½•å°†é€šè¿‡JSåŠ¨æ€æ·»åŠ  -->
                </tbody>
            </table>
        </div>
    </div>
    
    <!-- å…è´£å£°æ˜ - æ·»åŠ å¤šè¯­è¨€æ”¯æŒ -->
    <div class="disclaimer-section">
        <h3 class="section-title" id="disclaimer-title">å…è´£å£°æ˜</h3>
        <div class="disclaimer-content" id="disclaimer-content">
            <p>ä»¥ä¸Šè®¡ç®—ç»“æœä»…ä¾›å‚è€ƒï¼Œä¸ä»£è¡¨æœ€ç»ˆè´¹ç”¨ã€‚å®é™…è´¹ç”¨å¯èƒ½å› å¸‚åœºå˜åŒ–ã€æ±‡ç‡æ³¢åŠ¨ã€å¹³å°æ”¿ç­–è°ƒæ•´ç­‰å› ç´ è€Œæœ‰æ‰€ä¸åŒï¼Œè¯·ä»¥å®é™…æƒ…å†µä¸ºå‡†ã€‚</p>
            <p>æœ¬è®¡ç®—å™¨æä¾›çš„æ•°æ®ä»…ä½œä¸ºå•†ä¸šå†³ç­–çš„å‚è€ƒä¾æ®ï¼Œä¸æ„æˆä»»ä½•å½¢å¼çš„æ‰¿è¯ºæˆ–ä¿è¯ã€‚ä½¿ç”¨æœ¬å·¥å…·äº§ç”Ÿçš„ä»»ä½•å•†ä¸šé£é™©ç”±ä½¿ç”¨è€…è‡ªè¡Œæ‰¿æ‹…ã€‚</p>
        </div>
    </div>
    
    <div class="footer">
        <p id="copyright">Â© 2023 æ–°ç–†èˆªè´¸é€šå›½é™…ä¾›åº”é“¾æœ‰é™å…¬å¸ | Kaspi ç”µå•†åˆ©æ¶¦è®¡ç®—å™¨</p>
    </div>
</div>

<!-- è”ç³»å¼¹çª— -->
<div id="contactModal" class="modal">
    <div class="modal-content">
        <span class="close">&times;</span>
        <div id="modalBody"></div>
    </div>
</div>

<script>
// translations.js
const translations = {
    zh: {
        companyName: "æ–°ç–†èˆªè´¸é€šå›½é™…ä¾›åº”é“¾æœ‰é™å…¬å¸",
        appTitle: "Kaspi ç”µå•†åˆ©æ¶¦è®¡ç®—å™¨",
        exchangeLabel: "å½“å‰æ±‡ç‡ï¼š1å…ƒäººæ°‘å¸å…‘æ¢",
        currencyLabel: "å“ˆè¨å…‹æ–¯å¦åšæˆˆ",
        productInfo: "äº§å“ä¿¡æ¯",
        categoryLabel: "å•†å“åˆ†ç±»",
        purchaseLabel: "é‡‡è´­ä»· (Â¥)",
        shippingLabel: "è¿è´¹ (Â¥)",
        grossProfitLabel: "è®¡åˆ’æ¯›åˆ© (Â¥)",
        cashbackLabel: "ä¸‹å•è¿”åˆ©ï¼ˆ%ï¼‰",
        paymentLabel: "æ±‡æ¬¾æ–¹å¼",
        logisticsTitle: "ç‰©æµä¿¡æ¯",
        dimensionLabel: "å°ºå¯¸ï¼ˆå˜ç±³ï¼‰",
        volumeLabel: "ä½“ç§¯ï¼ˆç«‹æ–¹ç±³ï¼‰",
        weightLabel: "é‡é‡ï¼ˆåƒå…‹ï¼‰",
        kaspiPriceLabel: "Kaspi å”®ä»·",
        feesTitle: "å¤´ç¨‹ã€æµ·å¤–ä»“è´¹ç”¨",
        overseasLabel: "æµ·å¤–ä»“è´¹ç”¨",
        firstmileLabel: "å¤´ç¨‹è´¹ç”¨",
        platformTitle: "å¹³å°è´¹ç”¨",
        cashbackAmountLabel: "ä¸‹å•è¿”åˆ©",
        kaspiShippingLabel: "Kaspi è¿è´¹",
        platformFeeLabel: "å¹³å°ä½£é‡‘",
        withdrawalTaxLabel: "æç°ç¨ï¼ˆ4%ï¼‰",
        returnTitle: "å›æ¬¾è´¹ç”¨",
        withdrawalFeeLabel: "æç°æ‰‹ç»­è´¹ï¼ˆ1%ï¼‰",
        exchangeLossLabel: "æ±‡æŸï¼ˆ1.42%ï¼‰",
        remittanceFeeLabel: "æ±‡æ¬¾æ‰‹ç»­è´¹",
        returnAmountLabel: "å›æ¬¾é‡‘é¢",
        kaspiPayLabel: "Kaspi payæç°åˆ°è´¦é‡‘é¢",
        estimatedAmountLabel: "é¢„ä¼°åˆ°è´¦é‡‘é¢",
        profitLabelFinal: "åˆ©æ¶¦",
        copyright: "Â© 2023 æ–°ç–†èˆªè´¸é€šå›½é™…ä¾›åº”é“¾æœ‰é™å…¬å¸ | Kaspi ç”µå•†åˆ©æ¶¦è®¡ç®—å™¨",
        calculateBtn: "è®¡ç®—åˆ©æ¶¦",
        cnyLabel: "äººæ°‘å¸ (CNY)",
        kztLabel: "å“ˆè¨å…‹æ–¯å¦åšæˆˆ (KZT)",
        commissionLabel: "å½“å‰ä½£é‡‘ç‡ï¼š",
        purchasePlaceholder: "è¾“å…¥é‡‡è´­ä»·",
        shippingPlaceholder: "é˜¿æ‹‰æœ¨å›¾è¿è´¹",
        grossProfitPlaceholder: "è¾“å…¥è®¡åˆ’æ¯›åˆ©",
        cashbackPlaceholder: "è¾“å…¥ä¸‹å•è¿”åˆ©",
        weightPlaceholder: "è¾“å…¥é‡é‡",
        lengthPlaceholder: "é•¿",
        widthPlaceholder: "å®½",
        heightPlaceholder: "é«˜",
        exchangePlaceholder: "è¾“å…¥æ±‡ç‡",
        categorySearchPlaceholder: "æœç´¢åˆ†ç±»...",
        overseasUnitLabel: "æµ·å¤–ä»“å•ä»· (Â¥/mÂ³)",
        firstmileUnitLabel: "å¤´ç¨‹å•ä»· (Â¥/mÂ³)",
        kaspiPriceCnyLabel: "äººæ°‘å¸ (Â¥)",
        kaspiPriceKztLabel: "åšæˆˆ (â‚¸)",
        // æ–°å¢å¼€å…³æ ‡ç­¾
        overseasToggleLabel: "æ˜¯å¦è®¡ç®—æµ·å¤–ä»“è´¹ç”¨",
        firstmileToggleLabel: "æ˜¯å¦è®¡ç®—å¤´ç¨‹è´¹ç”¨",
        withdrawalFeeToggleLabel: "æ˜¯å¦è®¡ç®—æç°æ‰‹ç»­è´¹",
        exchangeLossToggleLabel: "æ˜¯å¦è®¡ç®—æ±‡æŸ",
        remittanceFeeToggleLabel: "æ˜¯å¦è®¡ç®—æ±‡æ¬¾æ‰‹ç»­è´¹",
        // æ–°å¢å†å²è®°å½•ç›¸å…³ç¿»è¯‘
        historyTitle: "å†å²è®°å½•",
        exportBtn: "å¯¼å‡ºä¸ºCSV",
        clearBtn: "æ¸…ç©ºå†å²",
        deleteBtn: "åˆ é™¤",
        // æ–°å¢å†å²è®°å½•è¡¨å¤´ç¿»è¯‘
        historyTableHeaders: [
            "å•†å“åˆ†ç±»", "é‡‡è´­ä»·", "è¿è´¹", "è®¡åˆ’æ¯›åˆ©", "ä¸‹å•è¿”åˆ©(%)", "æ±‡æ¬¾æ–¹å¼",
            "å°ºå¯¸(é•¿å®½é«˜)", "ä½“ç§¯", "é‡é‡", "æµ·å¤–ä»“è´¹ç”¨", "å¤´ç¨‹è´¹ç”¨", "ä¸‹å•è¿”åˆ©",
            "Kaspiè¿è´¹", "å¹³å°ä½£é‡‘", "æç°ç¨", "æç°æ‰‹ç»­è´¹", "æ±‡æŸ", "æ±‡æ¬¾æ‰‹ç»­è´¹",
            "Kaspiæç°", "å›æ¬¾é‡‘é¢", "é¢„ä¼°åˆ°è´¦", "åˆ©æ¶¦", "å¸ç§", "æ“ä½œ"
        ],
        contactLabel: "ä¸šåŠ¡å’¨è¯¢ï¼š",
        contactLinkText: "ç‚¹å‡»è”ç³»å®¢æœ",
        // å…è´£å£°æ˜ç¿»è¯‘
        disclaimerTitle: "å…è´£å£°æ˜",
        disclaimerText1: "ä»¥ä¸Šè®¡ç®—ç»“æœä»…ä¾›å‚è€ƒï¼Œä¸ä»£è¡¨æœ€ç»ˆè´¹ç”¨ã€‚å®é™…è´¹ç”¨å¯èƒ½å› å¸‚åœºå˜åŒ–ã€æ±‡ç‡æ³¢åŠ¨ã€å¹³å°æ”¿ç­–è°ƒæ•´ç­‰å› ç´ è€Œæœ‰æ‰€ä¸åŒï¼Œè¯·ä»¥å®é™…æƒ…å†µä¸ºå‡†ã€‚",
        disclaimerText2: "æœ¬è®¡ç®—å™¨æä¾›çš„æ•°æ®ä»…ä½œä¸ºå•†ä¸šå†³ç­–çš„å‚è€ƒä¾æ®ï¼Œä¸æ„æˆä»»ä½•å½¢å¼çš„æ‰¿è¯ºæˆ–ä¿è¯ã€‚ä½¿ç”¨æœ¬å·¥å…·äº§ç”Ÿçš„ä»»ä½•å•†ä¸šé£é™©ç”±ä½¿ç”¨è€…è‡ªè¡Œæ‰¿æ‹…ã€‚",
        // å¹¿å‘Šæ ‡é¢˜
        adTitle: "å¢å€¼æœåŠ¡",
        // å€’è®¡æ—¶æ–‡æœ¬
        countdownText: "æœåŠ¡æˆªæ­¢: "
    },
    ru: {
        companyName: "Ğ¡Ğ¸Ğ½ÑŒÑ†Ğ·ÑĞ½ÑĞºĞ°Ñ ĞœĞµĞ¶Ğ´ÑƒĞ½Ğ°Ñ€Ğ¾Ğ´Ğ½Ğ°Ñ Ğ›Ğ¾Ğ³Ğ¸ÑÑ‚Ğ¸Ñ‡ĞµÑĞºĞ°Ñ ĞšĞ¾Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ñ Ğ¥Ğ°Ğ½ ĞœĞ°Ğ¾ Ğ¢ÑƒĞ½",
        appTitle: "ĞšĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€ Ğ¿Ñ€Ğ¸Ğ±Ñ‹Ğ»Ğ¸ Kaspi",
        exchangeLabel: "Ğ¢ĞµĞºÑƒÑ‰Ğ¸Ğ¹ ĞºÑƒÑ€Ñ: 1 ÑĞ°Ğ½ÑŒ = ",
        currencyLabel: "ĞºĞ°Ğ·Ğ°Ñ…ÑÑ‚Ğ°Ğ½ÑĞºĞ¸Ñ… Ñ‚ĞµĞ½Ğ³Ğµ",
        productInfo: "Ğ˜Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ Ğ¾ Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ğµ",
        categoryLabel: "ĞšĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ñ Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ°",
        purchaseLabel: "Ğ—Ğ°ĞºÑƒĞ¿Ğ¾Ñ‡Ğ½Ğ°Ñ Ñ†ĞµĞ½Ğ° (â‚¸)",
        shippingLabel: "Ğ¡Ñ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ Ğ´Ğ¾ÑÑ‚Ğ°Ğ²ĞºĞ¸ (â‚¸)",
        grossProfitLabel: "ĞŸĞ»Ğ°Ğ½Ğ¾Ğ²Ğ°Ñ Ğ²Ğ°Ğ»Ğ¾Ğ²Ğ°Ñ Ğ¿Ñ€Ğ¸Ğ±Ñ‹Ğ»ÑŒ (â‚¸)",
        cashbackLabel: "ĞšÑÑˆĞ±ÑĞº Ğ·Ğ° Ğ·Ğ°ĞºĞ°Ğ· (%)",
        paymentLabel: "Ğ¡Ğ¿Ğ¾ÑĞ¾Ğ± Ğ¾Ğ¿Ğ»Ğ°Ñ‚Ñ‹",
        logisticsTitle: "Ğ›Ğ¾Ğ³Ğ¸ÑÑ‚Ğ¸Ñ‡ĞµÑĞºĞ°Ñ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ",
        dimensionLabel: "Ğ Ğ°Ğ·Ğ¼ĞµÑ€Ñ‹ (ÑĞ¼)",
        volumeLabel: "ĞĞ±ÑŠĞµĞ¼ (Ğ¼Â³)",
        weightLabel: "Ğ’ĞµÑ (ĞºĞ³)",
        kaspiPriceLabel: "Ğ¦ĞµĞ½Ğ° Ğ½Ğ° Kaspi",
        feesTitle: "Ğ Ğ°ÑÑ…Ğ¾Ğ´Ñ‹ Ğ½Ğ° Ğ´Ğ¾ÑÑ‚Ğ°Ğ²ĞºÑƒ Ğ¸ ÑĞºĞ»Ğ°Ğ´",
        overseasLabel: "Ğ¡Ñ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ Ğ·Ğ°Ñ€ÑƒĞ±ĞµĞ¶Ğ½Ğ¾Ğ³Ğ¾ ÑĞºĞ»Ğ°Ğ´Ğ° (â‚¸)",
        firstmileLabel: "Ğ¡Ñ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ Ğ¿ĞµÑ€Ğ²Ğ¾Ğ¹ Ğ¼Ğ¸Ğ»Ğ¸ (â‚¸)",
        platformTitle: "ĞŸĞ»Ğ°Ñ‚ĞµĞ¶Ğ¸ Ğ¿Ğ»Ğ°Ñ‚Ñ„Ğ¾Ñ€Ğ¼Ñ‹",
        cashbackAmountLabel: "Ğ¡ÑƒĞ¼Ğ¼Ğ° ĞºÑÑˆĞ±ÑĞºĞ° (â‚¸)",
        kaspiShippingLabel: "Ğ”Ğ¾ÑÑ‚Ğ°Ğ²ĞºĞ° Kaspi (â‚¸)",
        platformFeeLabel: "ĞšĞ¾Ğ¼Ğ¸ÑÑĞ¸Ñ Ğ¿Ğ»Ğ°Ñ‚Ñ„Ğ¾Ñ€Ğ¼Ñ‹ (â‚¸)",
        withdrawalTaxLabel: "ĞĞ°Ğ»Ğ¾Ğ³ Ğ½Ğ° Ğ²Ñ‹Ğ²Ğ¾Ğ´ (4%) (â‚¸)",
        returnTitle: "Ğ Ğ°ÑÑ…Ğ¾Ğ´Ñ‹ Ğ½Ğ° Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚ ÑÑ€ĞµĞ´ÑÑ‚Ğ²",
        withdrawalFeeLabel: "ĞšĞ¾Ğ¼Ğ¸ÑÑĞ¸Ñ Ğ·Ğ° Ğ²Ñ‹Ğ²Ğ¾Ğ´ (1%) (â‚¸)",
        exchangeLossLabel: "ĞŸĞ¾Ñ‚ĞµÑ€Ğ¸ Ğ¿Ñ€Ğ¸ Ğ¾Ğ±Ğ¼ĞµĞ½Ğµ (1.42%) (â‚¸)",
        remittanceFeeLabel: "ĞšĞ¾Ğ¼Ğ¸ÑÑĞ¸Ñ Ğ·Ğ° Ğ¿ĞµÑ€ĞµĞ²Ğ¾Ğ´ (â‚¸)",
        returnAmountLabel: "Ğ¡ÑƒĞ¼Ğ¼Ğ° Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚Ğ° (â‚¸)",
        kaspiPayLabel: "Ğ¡ÑƒĞ¼Ğ¼Ğ° Ğ²Ñ‹Ğ²Ğ¾Ğ´Ğ° Kaspi pay (â‚¸)",
        estimatedAmountLabel: "ĞĞ¶Ğ¸Ğ´Ğ°ĞµĞ¼Ğ°Ñ ÑÑƒĞ¼Ğ¼Ğ° Ğº Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ñ (â‚¸)",
        profitLabelFinal: "ĞŸÑ€Ğ¸Ğ±Ñ‹Ğ»ÑŒ (â‚¸)",
        copyright: "Â© 2023 Ğ¡Ğ¸Ğ½ÑŒÑ†Ğ·ÑĞ½ÑĞºĞ°Ñ ĞœĞµĞ¶Ğ´ÑƒĞ½Ğ°Ñ€Ğ¾Ğ´Ğ½Ğ°Ñ Ğ›Ğ¾Ğ³Ğ¸ÑÑ‚Ğ¸Ñ‡ĞµÑĞºĞ°Ñ ĞšĞ¾Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ñ Ğ¥Ğ°Ğ½ ĞœĞ°Ğ¾ Ğ¢ÑƒĞ½ | ĞšĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€ Ğ¿Ñ€Ğ¸Ğ±Ñ‹Ğ»Ğ¸ Kaspi",
        calculateBtn: "Ğ Ğ°ÑÑÑ‡Ğ¸Ñ‚Ğ°Ñ‚ÑŒ Ğ¿Ñ€Ğ¸Ğ±Ñ‹Ğ»ÑŒ",
        cnyLabel: "Ğ®Ğ°Ğ½ÑŒ (CNY)",
        kztLabel: "Ğ¢ĞµĞ½Ğ³Ğµ (KZT)",
        commissionLabel: "Ğ¢ĞµĞºÑƒÑ‰Ğ°Ñ ĞºĞ¾Ğ¼Ğ¸ÑÑĞ¸Ñ: ",
        purchasePlaceholder: "Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ·Ğ°ĞºÑƒĞ¿Ğ¾Ñ‡Ğ½ÑƒÑ Ñ†ĞµĞ½Ñƒ",
        shippingPlaceholder: "Ğ¡Ñ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ Ğ´Ğ¾ÑÑ‚Ğ°Ğ²ĞºĞ¸ Ğ² ĞĞ»Ğ¼Ğ°Ñ‚Ñ‹",
        grossProfitPlaceholder: "Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ¿Ğ»Ğ°Ğ½Ğ¾Ğ²ÑƒÑ Ğ²Ğ°Ğ»Ğ¾Ğ²ÑƒÑ Ğ¿Ñ€Ğ¸Ğ±Ñ‹Ğ»ÑŒ",
        cashbackPlaceholder: "Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ ĞºÑÑˆĞ±ÑĞº Ğ·Ğ° Ğ·Ğ°ĞºĞ°Ğ·",
        weightPlaceholder: "Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ²ĞµÑ",
        lengthPlaceholder: "Ğ”Ğ»Ğ¸Ğ½Ğ°",
        widthPlaceholder: "Ğ¨Ğ¸Ñ€Ğ¸Ğ½Ğ°",
        heightPlaceholder: "Ğ’Ñ‹ÑĞ¾Ñ‚Ğ°",
        exchangePlaceholder: "Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ ĞºÑƒÑ€Ñ Ğ¾Ğ±Ğ¼ĞµĞ½Ğ°",
        categorySearchPlaceholder: "ĞŸĞ¾Ğ¸ÑĞº ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ğ¸...",
        overseasUnitLabel: "Ğ¦ĞµĞ½Ğ° Ğ·Ğ°Ñ€ÑƒĞ±ĞµĞ¶Ğ½Ğ¾Ğ³Ğ¾ ÑĞºĞ»Ğ°Ğ´Ğ° (â‚¸/Ğ¼Â³)",
        firstmileUnitLabel: "Ğ¦ĞµĞ½Ğ° Ğ¿ĞµÑ€Ğ²Ğ¾Ğ¹ Ğ¼Ğ¸Ğ»Ğ¸ (â‚¸/Ğ¼Â³)",
        kaspiPriceCnyLabel: "Ğ®Ğ°Ğ½ÑŒ (Â¥)",
        kaspiPriceKztLabel: "Ğ¢ĞµĞ½Ğ³Ğµ (â‚¸)",
        // æ–°å¢å¼€å…³æ ‡ç­¾
        overseasToggleLabel: "Ğ Ğ°ÑÑ‡ĞµÑ‚ ÑÑ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚Ğ¸ Ğ·Ğ°Ñ€ÑƒĞ±ĞµĞ¶Ğ½Ğ¾Ğ³Ğ¾ ÑĞºĞ»Ğ°Ğ´Ğ°",
        firstmileToggleLabel: "Ğ Ğ°ÑÑ‡ĞµÑ‚ ÑÑ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚Ğ¸ Ğ¿ĞµÑ€Ğ²Ğ¾Ğ¹ Ğ¼Ğ¸Ğ»Ğ¸",
        withdrawalFeeToggleLabel: "Ğ Ğ°ÑÑ‡ĞµÑ‚ ĞºĞ¾Ğ¼Ğ¸ÑÑĞ¸Ğ¸ Ğ·Ğ° Ğ²Ñ‹Ğ²Ğ¾Ğ´",
        exchangeLossToggleLabel: "Ğ Ğ°ÑÑ‡ĞµÑ‚ Ğ¿Ğ¾Ñ‚ĞµÑ€ÑŒ Ğ¿Ñ€Ğ¸ Ğ¾Ğ±Ğ¼ĞµĞ½Ğµ",
        remittanceFeeToggleLabel: "Ğ Ğ°ÑÑ‡ĞµÑ‚ ĞºĞ¾Ğ¼Ğ¸ÑÑĞ¸Ğ¸ Ğ·Ğ° Ğ¿ĞµÑ€ĞµĞ²Ğ¾Ğ´",
        // æ–°å¢å†å²è®°å½•ç›¸å…³ç¿»è¯‘
        historyTitle: "Ğ˜ÑÑ‚Ğ¾Ñ€Ğ¸Ñ Ñ€Ğ°ÑÑ‡ĞµÑ‚Ğ¾Ğ²",
        exportBtn: "Ğ­ĞºÑĞ¿Ğ¾Ñ€Ñ‚ Ğ² CSV",
        clearBtn: "ĞÑ‡Ğ¸ÑÑ‚Ğ¸Ñ‚ÑŒ Ğ¸ÑÑ‚Ğ¾Ñ€Ğ¸Ñ",
        deleteBtn: "Ğ£Ğ´Ğ°Ğ»Ğ¸Ñ‚ÑŒ",
        // æ–°å¢å†å²è®°å½•è¡¨å¤´ç¿»è¯‘
        historyTableHeaders: [
            "ĞšĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ñ", "Ğ—Ğ°ĞºÑƒĞ¿Ğ¾Ñ‡Ğ½Ğ°Ñ Ñ†ĞµĞ½Ğ°", "Ğ¡Ñ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ Ğ´Ğ¾ÑÑ‚Ğ°Ğ²ĞºĞ¸", "ĞŸĞ»Ğ°Ğ½Ğ¾Ğ²Ğ°Ñ Ğ²Ğ°Ğ»Ğ¾Ğ²Ğ°Ñ Ğ¿Ñ€Ğ¸Ğ±Ñ‹Ğ»ÑŒ", "ĞšÑÑˆĞ±ÑĞº Ğ·Ğ° Ğ·Ğ°ĞºĞ°Ğ·(%)", "Ğ¡Ğ¿Ğ¾ÑĞ¾Ğ± Ğ¾Ğ¿Ğ»Ğ°Ñ‚Ñ‹",
            "Ğ Ğ°Ğ·Ğ¼ĞµÑ€Ñ‹(Ğ”Ã—Ğ¨Ã—Ğ’)", "ĞĞ±ÑŠĞµĞ¼", "Ğ’ĞµÑ", "Ğ¡Ñ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ Ğ·Ğ°Ñ€ÑƒĞ±ĞµĞ¶Ğ½Ğ¾Ğ³Ğ¾ ÑĞºĞ»Ğ°Ğ´Ğ°", "Ğ¡Ñ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ Ğ¿ĞµÑ€Ğ²Ğ¾Ğ¹ Ğ¼Ğ¸Ğ»Ğ¸", "ĞšÑÑˆĞ±ÑĞº",
            "Ğ”Ğ¾ÑÑ‚Ğ°Ğ²ĞºĞ° Kaspi", "ĞšĞ¾Ğ¼Ğ¸ÑÑĞ¸Ñ Ğ¿Ğ»Ğ°Ñ‚Ñ„Ğ¾Ñ€Ğ¼Ñ‹", "ĞĞ°Ğ»Ğ¾Ğ³ Ğ½Ğ° Ğ²Ñ‹Ğ²Ğ¾Ğ´", "ĞšĞ¾Ğ¼Ğ¸ÑÑĞ¸Ñ Ğ·Ğ° Ğ²Ñ‹Ğ²Ğ¾Ğ´", "ĞŸĞ¾Ñ‚ĞµÑ€Ğ¸ Ğ¿Ñ€Ğ¸ Ğ¾Ğ±Ğ¼ĞµĞ½Ğµ", "ĞšĞ¾Ğ¼Ğ¸ÑÑĞ¸Ñ Ğ·Ğ° Ğ¿ĞµÑ€ĞµĞ²Ğ¾Ğ´",
            "Ğ’Ñ‹Ğ²Ğ¾Ğ´ Kaspi", "Ğ¡ÑƒĞ¼Ğ¼Ğ° Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚Ğ°", "ĞĞ¶Ğ¸Ğ´Ğ°ĞµĞ¼Ğ°Ñ ÑÑƒĞ¼Ğ¼Ğ°", "ĞŸÑ€Ğ¸Ğ±Ñ‹Ğ»ÑŒ", "Ğ’Ğ°Ğ»ÑÑ‚Ğ°", "Ğ”ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğµ"
        ],
        contactLabel: "Ğ‘Ğ¸Ğ·Ğ½ĞµÑ-ĞºĞ¾Ğ½ÑÑƒĞ»ÑŒÑ‚Ğ°Ñ†Ğ¸Ğ¸:",
        contactLinkText: "ĞĞ°Ğ¶Ğ¼Ğ¸Ñ‚Ğµ, Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ ÑĞ²ÑĞ·Ğ°Ñ‚ÑŒÑÑ",
        // å…è´£å£°æ˜ç¿»è¯‘
        disclaimerTitle: "ĞÑ‚ĞºĞ°Ğ· Ğ¾Ñ‚ Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸",
        disclaimerText1: "ĞŸÑ€Ğ¸Ğ²ĞµĞ´ĞµĞ½Ğ½Ñ‹Ğµ Ğ²Ñ‹ÑˆĞµ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ñ‹ Ñ€Ğ°ÑÑ‡ĞµÑ‚Ğ¾Ğ² Ğ¿Ñ€Ğ¸Ğ²ĞµĞ´ĞµĞ½Ñ‹ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ´Ğ»Ñ ÑĞ¿Ñ€Ğ°Ğ²ĞºĞ¸ Ğ¸ Ğ½Ğµ ÑĞ²Ğ»ÑÑÑ‚ÑÑ Ğ¾ĞºĞ¾Ğ½Ñ‡Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾Ğ¹ ÑÑ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒÑ. Ğ¤Ğ°ĞºÑ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ñ€Ğ°ÑÑ…Ğ¾Ğ´Ñ‹ Ğ¼Ğ¾Ğ³ÑƒÑ‚ Ñ€Ğ°Ğ·Ğ»Ğ¸Ñ‡Ğ°Ñ‚ÑŒÑÑ Ğ¸Ğ·-Ğ·Ğ° Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ñ Ñ€Ñ‹Ğ½Ğ¾Ñ‡Ğ½Ñ‹Ñ… ÑƒÑĞ»Ğ¾Ğ²Ğ¸Ğ¹, ĞºĞ¾Ğ»ĞµĞ±Ğ°Ğ½Ğ¸Ğ¹ Ğ¾Ğ±Ğ¼ĞµĞ½Ğ½Ğ¾Ğ³Ğ¾ ĞºÑƒÑ€ÑĞ°, ĞºĞ¾Ñ€Ñ€ĞµĞºÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ¾Ğº Ğ¿Ğ¾Ğ»Ğ¸Ñ‚Ğ¸ĞºĞ¸ Ğ¿Ğ»Ğ°Ñ‚Ñ„Ğ¾Ñ€Ğ¼Ñ‹ Ğ¸ Ğ´Ñ€ÑƒĞ³Ğ¸Ñ… Ñ„Ğ°ĞºÑ‚Ğ¾Ñ€Ğ¾Ğ². ĞŸĞ¾Ğ¶Ğ°Ğ»ÑƒĞ¹ÑÑ‚Ğ°, Ğ¾ÑĞ½Ğ¾Ğ²Ñ‹Ğ²Ğ°Ğ¹Ñ‚ĞµÑÑŒ Ğ½Ğ° Ñ„Ğ°ĞºÑ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğ¹ ÑĞ¸Ñ‚ÑƒĞ°Ñ†Ğ¸Ğ¸.",
        disclaimerText2: "Ğ”Ğ°Ğ½Ğ½Ñ‹Ğµ, Ğ¿Ñ€ĞµĞ´Ğ¾ÑÑ‚Ğ°Ğ²Ğ»ÑĞµĞ¼Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğ¼ ĞºĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€Ğ¾Ğ¼, Ğ¿Ñ€ĞµĞ´Ğ½Ğ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ñ‹ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ´Ğ»Ñ ÑĞ¿Ñ€Ğ°Ğ²ĞºĞ¸ Ğ¿Ñ€Ğ¸ Ğ¿Ñ€Ğ¸Ğ½ÑÑ‚Ğ¸Ğ¸ ĞºĞ¾Ğ¼Ğ¼ĞµÑ€Ñ‡ĞµÑĞºĞ¸Ñ… Ñ€ĞµÑˆĞµĞ½Ğ¸Ğ¹ Ğ¸ Ğ½Ğµ ÑĞ²Ğ»ÑÑÑ‚ÑÑ ĞºĞ°ĞºĞ¸Ğ¼-Ğ»Ğ¸Ğ±Ğ¾ Ğ¾Ğ±ÑĞ·Ğ°Ñ‚ĞµĞ»ÑŒÑÑ‚Ğ²Ğ¾Ğ¼ Ğ¸Ğ»Ğ¸ Ğ³Ğ°Ñ€Ğ°Ğ½Ñ‚Ğ¸ĞµĞ¹. Ğ›ÑĞ±Ñ‹Ğµ ĞºĞ¾Ğ¼Ğ¼ĞµÑ€Ñ‡ĞµÑĞºĞ¸Ğµ Ñ€Ğ¸ÑĞºĞ¸, Ğ²Ğ¾Ğ·Ğ½Ğ¸ĞºĞ°ÑÑ‰Ğ¸Ğµ Ğ¿Ñ€Ğ¸ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğ¸ Ğ´Ğ°Ğ½Ğ½Ğ¾Ğ³Ğ¾ Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚Ğ°, Ğ½ĞµÑĞµÑ‚ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ.",
        // å¹¿å‘Šæ ‡é¢˜
        adTitle: "Ğ”Ğ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ ÑƒÑĞ»ÑƒĞ³Ğ¸",
        // å€’è®¡æ—¶æ–‡æœ¬
        countdownText: "Ğ¡Ñ€Ğ¾Ğº Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ: "
    }
};

// categories.js
const categories = [
    { id: "auto-cards", name: { zh: "æ±½è½¦åç‰‡", ru: "ĞĞ²Ñ‚Ğ¾Ğ¼Ğ¾Ğ±Ğ¸Ğ»ÑŒĞ½Ñ‹Ğµ Ğ²Ğ¸Ğ·Ğ¸Ñ‚ĞºĞ¸" }, commission: 0.12 },
    { id: "watch-straps", name: { zh: "æ‰‹è¡¨å¸¦", ru: "Ğ®Ğ²ĞµĞ»Ğ¸Ñ€Ğ½Ñ‹Ğµ Ñ€ĞµĞ¼ĞµÑˆĞºĞ¸ Ğ¸ Ğ±Ñ€Ğ°ÑĞ»ĞµÑ‚Ñ‹ Ğ´Ğ»Ñ Ñ‡Ğ°ÑĞ¾Ğ²" }, commission: 0.15 }
];

// main.js
document.addEventListener('DOMContentLoaded', function () {
    // åˆå§‹åŒ–å˜é‡
    let currentLanguage = 'zh';
    let currentCurrency = 'cny';
    let currentCommission = 0.12; // é»˜è®¤ä½£é‡‘ç‡
    let expiryDate = 0;
    let countdownInterval = null;

    // æ–°å¢å†å²è®°å½•æ•°ç»„
    let historyRecords = [];

    // è·å–DOMå…ƒç´ 
    const exchangeRate = document.getElementById('exchangeRate');
    const purchasePrice = document.getElementById('purchasePrice');
    const shippingCost = document.getElementById('shippingCost');
    const grossProfit = document.getElementById('grossProfit'); // ä¿®æ”¹ä¸ºè®¡åˆ’æ¯›åˆ©
    const cashback = document.getElementById('cashback');
    const paymentMethod = document.getElementById('paymentMethod');
    const length = document.getElementById('length');
    const width = document.getElementById('width');
    const height = document.getElementById('height');
    const volume = document.getElementById('volume');
    const weight = document.getElementById('weight');
    const kaspiPriceCny = document.getElementById('kaspiPriceCny');
    const kaspiPriceKzt = document.getElementById('kaspiPriceKzt');
    const overseasWarehouse = document.getElementById('overseasWarehouse');
    const firstMile = document.getElementById('firstMile');
    const cashbackAmount = document.getElementById('cashbackAmount');
    const kaspiShipping = document.getElementById('kaspiShipping');
    const platformFee = document.getElementById('platformFee');
    const withdrawalTax = document.getElementById('withdrawalTax');
    const withdrawalFee = document.getElementById('withdrawalFee');
    const exchangeLoss = document.getElementById('exchangeLoss');
    const remittanceFee = document.getElementById('remittanceFee');
    const kaspiPayAmount = document.getElementById('kaspiPayAmount');
    const returnAmountDisplay = document.getElementById('returnAmountDisplay');
    const estimatedAmount = document.getElementById('estimatedAmount');
    const profit = document.getElementById('profit');
    const calculateBtn = document.getElementById('calculateBtn');
    const commissionDisplay = document.getElementById('commission-display');
    const container = document.querySelector('.container');
    // è·å–æ–°å¢çš„DOMå…ƒç´ 
    const historyTableBody = document.getElementById('historyTableBody');
    const exportHistoryBtn = document.getElementById('exportHistoryBtn');
    const clearHistoryBtn = document.getElementById('clearHistoryBtn');

    // æ–°å¢å…ƒç´ 
    const overseasUnitPrice = document.getElementById('overseasUnitPrice');
    const firstMileUnitPrice = document.getElementById('firstMileUnitPrice');
    const overseasToggle = document.getElementById('overseasToggle');
    const firstMileToggle = document.getElementById('firstMileToggle');
    const withdrawalFeeToggle = document.getElementById('withdrawalFeeToggle');
    const exchangeLossToggle = document.getElementById('exchangeLossToggle');
    const remittanceFeeToggle = document.getElementById('remittanceFeeToggle');

    // é”™è¯¯æ¶ˆæ¯å…ƒç´ 
    const exchangeError = document.getElementById('exchange-error');
    const purchaseError = document.getElementById('purchase-error');
    const shippingError = document.getElementById('shipping-error');
    const profitError = document.getElementById('profit-error');
    const weightError = document.getElementById('weight-error');

    // åˆ†ç±»é€‰æ‹©å™¨
    const categorySelect = document.getElementById('category-select');
    const categorySearch = document.getElementById('category-search');
    const searchResults = document.getElementById('search-results');

    // è´§å¸é€‰æ‹©å™¨
    const currencyCny = document.getElementById('currency-cny');
    const currencyKzt = document.getElementById('currency-kzt');

    // å¼€å…³æ ‡ç­¾å…ƒç´ 
    const overseasToggleLabel = document.getElementById('overseas-toggle-label');
    const firstmileToggleLabel = document.getElementById('firstmile-toggle-label');
    const withdrawalFeeToggleLabel = document.getElementById('withdrawal-fee-toggle-label');
    const exchangeLossToggleLabel = document.getElementById('exchange-loss-toggle-label');
    const remittanceFeeToggleLabel = document.getElementById('remittance-fee-toggle-label');

    // å€’è®¡æ—¶å…ƒç´ 
    const countdownElement = document.getElementById('countdown-text');
    const countdownContainer = document.getElementById('countdown');

    // æ‰å¹³åŒ–åˆ†ç±»æ•°æ®ç”¨äºæœç´¢
    let flatCategories = [];

    function flattenCategories(categories, level = 1, parentPath = "") {
        categories.forEach(cat => {
            const path = parentPath ? `${parentPath} > ${cat.name.zh}` : cat.name.zh;
            flatCategories.push({
                id: cat.id,
                name: cat.name,
                commission: cat.commission,
                level: level,
                path: path
            });
        });
        
    }

    flattenCategories(categories);

    // åˆå§‹åŒ–åˆ†ç±»é€‰æ‹©å™¨
    function populateCategorySelect(selectElement, categories, placeholder) {
        // ä¿å­˜å½“å‰é€‰ä¸­çš„å€¼
        const selectedValue = selectElement.value;

        selectElement.innerHTML = '';
        const defaultOption = document.createElement('option');
        defaultOption.value = '';
        defaultOption.textContent = placeholder;
        defaultOption.dataset.commission = '';
        selectElement.appendChild(defaultOption);

        categories.forEach(cat => {
            const option = document.createElement('option');
            option.value = cat.id;
            option.textContent = cat.name[currentLanguage];
            option.dataset.commission = cat.commission;
            selectElement.appendChild(option);
        });

        // æ¢å¤é€‰ä¸­çš„å€¼
        if (selectedValue) {
            selectElement.value = selectedValue;
        }
    }

    // å¡«å……å•†å“åˆ†ç±»
    populateCategorySelect(categorySelect, categories, currentLanguage === 'zh' ? '-- è¯·é€‰æ‹©å•†å“åˆ†ç±» --' : '-- Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ñ Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ° --');

    // åˆ†ç±»é€‰æ‹©å˜åŒ–äº‹ä»¶
    categorySelect.addEventListener('change', function () {
        const selectedOption = this.options[this.selectedIndex];
        currentCommission = parseFloat(selectedOption.dataset.commission) || 0.12;

        // æ›´æ–°ä½£é‡‘æ˜¾ç¤º
        const trans = translations[currentLanguage];
        commissionDisplay.textContent = trans.commissionLabel + (currentCommission * 100).toFixed(0) + '%';

        // é‡æ–°è®¡ç®—
        calculateAll();
    });

    // åˆ†ç±»æœç´¢åŠŸèƒ½
    categorySearch.addEventListener('input', function () {
        const searchTerm = this.value.toLowerCase();
        if (!searchTerm) {
            searchResults.style.display = 'none';
            return;
        }

        const results = flatCategories.filter(cat =>
            cat.name.zh.toLowerCase().includes(searchTerm) ||
            cat.name.ru.toLowerCase().includes(searchTerm)
        );

        if (results.length === 0) {
            searchResults.style.display = 'none';
            return;
        }

        searchResults.innerHTML = '';
        results.forEach(cat => {
            const div = document.createElement('div');
            div.className = 'search-result-item';
            div.textContent = currentLanguage === 'zh' ? cat.path : cat.name.ru;
            div.dataset.id = cat.id;
            div.dataset.commission = cat.commission;
            div.dataset.level = cat.level;
            searchResults.appendChild(div);
        });

        searchResults.style.display = 'block';
    });

    // å¤„ç†æœç´¢ç»“æœé€‰æ‹©
    searchResults.addEventListener('click', function (e) {
        if (e.target.classList.contains('search-result-item')) {
            const catId = e.target.dataset.id;
            const commission = e.target.dataset.commission;

            // è®¾ç½®ä½£é‡‘ç‡
            currentCommission = parseFloat(commission) || 0.12;

            // æ›´æ–°ä½£é‡‘æ˜¾ç¤º
            const trans = translations[currentLanguage];
            commissionDisplay.textContent = trans.commissionLabel + (currentCommission * 100).toFixed(0) + '%';

            // æŸ¥æ‰¾å¹¶è®¾ç½®åˆ†ç±»
            const foundCategory = flatCategories.find(cat => cat.id === catId);
            if (foundCategory) {
                categorySelect.value = catId;
            }

            categorySearch.value = '';
            searchResults.style.display = 'none';

            // é‡æ–°è®¡ç®—
            calculateAll();
        }
    });

    // ç‚¹å‡»æœç´¢å›¾æ ‡èšç„¦æœç´¢æ¡†
    document.querySelector('.search-icon').addEventListener('click', function () {
        categorySearch.focus();
    });

    // è¯­è¨€åˆ‡æ¢åŠŸèƒ½
    document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.addEventListener('click', function () {
            const oldLanguage = currentLanguage;
            currentLanguage = this.dataset.lang;

            // æ›´æ–°æŒ‰é’®çŠ¶æ€
            document.querySelectorAll('.lang-btn').forEach(b => b.classList.remove('active'));
            this.classList.add('active');

            // æ›´æ–°bodyç±»å
            document.body.className = '';
            document.body.classList.add(`lang-${currentLanguage}`);

            // æ›´æ–°é¡µé¢æ–‡æœ¬
            updateLanguage();

            // è½¬æ¢è´§å¸å€¼
            const rate = parseFloat(exchangeRate.value) || 70;

            // éœ€è¦è½¬æ¢çš„å­—æ®µ
            const fieldsToConvert = [
                purchasePrice,
                shippingCost,
                grossProfit, // æ–°å¢è®¡åˆ’æ¯›åˆ©çš„è½¬æ¢
                overseasUnitPrice,
                firstMileUnitPrice
            ];

            fieldsToConvert.forEach(field => {
                const value = parseFloat(field.value);
                if (!isNaN(value)) {
                    if (oldLanguage === 'zh' && currentLanguage === 'ru') {
                        // äººæ°‘å¸ â†’ åšæˆˆ
                        field.value = (value * rate).toFixed(2);
                    } else if (oldLanguage === 'ru' && currentLanguage === 'zh') {
                        // åšæˆˆ â†’ äººæ°‘å¸
                        field.value = (value / rate).toFixed(2);
                    }
                }
            });

            // åˆå§‹åŒ–æ–°è¯­è¨€çš„é»˜è®¤å•ä»·
            initializeDefaultPrices();

            // æ›´æ–°æ”¯ä»˜æ–¹å¼é€‰é¡¹
            if (currentLanguage === 'ru') {
                paymentMethod.innerHTML = '<option value="kaspi">Kaspi.kz</option>';
                currencyKzt.checked = true;
                currentCurrency = 'kzt';
            } else {
                // æ¢å¤ä¸­æ–‡æ”¯ä»˜æ–¹å¼é€‰é¡¹
                paymentMethod.innerHTML = `
                    <option value="publicToPublic">é“¶è¡Œå…¬å¯¹å…¬</option>
                    <option value="publicToPrivate">é“¶è¡Œå…¬å¯¹ç§</option>
                    <option value="privateToPrivate">é“¶è¡Œç§å¯¹ç§</option>
                    <option value="wechat">å¾®ä¿¡</option>
                    <option value="alipay">æ”¯ä»˜å®</option>
                    <option value="kaspi">Kaspi.kz</option>
                `;
                currencyCny.checked = true;
                currentCurrency = 'cny';
            }

            // é‡æ–°è®¡ç®—
            calculateAll();
        });
    });

    // è´§å¸åˆ‡æ¢åŠŸèƒ½
    document.querySelectorAll('.currency-radio').forEach(radio => {
        radio.addEventListener('change', function () {
            currentCurrency = this.value;
            calculateAll(); // é‡æ–°è®¡ç®—å¹¶æ˜¾ç¤ºç»“æœ
        });
    });

    // æ›´æ–°é¡µé¢è¯­è¨€
    function updateLanguage() {
        const trans = translations[currentLanguage];

        // æ›´æ–°æ–‡æœ¬å†…å®¹
        document.getElementById('company-name').textContent = trans.companyName;
        document.getElementById('app-title').textContent = trans.appTitle;
        document.getElementById('exchange-label').textContent = trans.exchangeLabel;
        document.getElementById('currency-label').textContent = trans.currencyLabel;
        document.getElementById('product-info-title').textContent = trans.productInfo;
        document.getElementById('category-label').textContent = trans.categoryLabel;
        document.getElementById('purchase-label').textContent = trans.purchaseLabel;
        document.getElementById('shipping-label').textContent = trans.shippingLabel;
        document.getElementById('gross-profit-label').textContent = trans.grossProfitLabel; // ä¿®æ”¹ä¸ºè®¡åˆ’æ¯›åˆ©
        document.getElementById('cashback-label').textContent = trans.cashbackLabel;
        document.getElementById('payment-label').textContent = trans.paymentLabel;
        document.getElementById('logistics-title').textContent = trans.logisticsTitle;
        document.getElementById('dimension-label').textContent = trans.dimensionLabel;
        document.getElementById('volume-label').textContent = trans.volumeLabel;
        document.getElementById('weight-label').textContent = trans.weightLabel;
        document.getElementById('kaspi-price-label').textContent = trans.kaspiPriceLabel;
        document.getElementById('fees-title').textContent = trans.feesTitle;
        document.getElementById('overseas-label').textContent = trans.overseasLabel;
        document.getElementById('firstmile-label').textContent = trans.firstmileLabel;
        document.getElementById('platform-title').textContent = trans.platformTitle;
        document.getElementById('cashback-amount-label').textContent = trans.cashbackAmountLabel;
        document.getElementById('kaspi-shipping-label').textContent = trans.kaspiShippingLabel;
        document.getElementById('platform-fee-label').textContent = trans.platformFeeLabel;
        document.getElementById('withdrawal-tax-label').textContent = trans.withdrawalTaxLabel;
        document.getElementById('return-title').textContent = trans.returnTitle;
        document.getElementById('withdrawal-fee-label').textContent = trans.withdrawalFeeLabel;
        document.getElementById('exchange-loss-label').textContent = trans.exchangeLossLabel;
        document.getElementById('remittance-fee-label').textContent = trans.remittanceFeeLabel;
        document.getElementById('return-amount-label').textContent = trans.returnAmountLabel;
        document.getElementById('kaspi-pay-label').textContent = trans.kaspiPayLabel;
        document.getElementById('estimated-amount-label').textContent = trans.estimatedAmountLabel;
        document.getElementById('profit-label-final').textContent = trans.profitLabelFinal;
        document.getElementById('copyright').textContent = trans.copyright;
        document.getElementById('cny-label').textContent = trans.cnyLabel;
        document.getElementById('kzt-label').textContent = trans.kztLabel;

        document.getElementById('kaspi-price-cny-label').textContent = trans.kaspiPriceCnyLabel;
        document.getElementById('kaspi-price-kzt-label').textContent = trans.kaspiPriceKztLabel;
        document.getElementById('overseas-unit-label').textContent = trans.overseasUnitLabel;
        document.getElementById('firstmile-unit-label').textContent = trans.firstmileUnitLabel;

        // æ›´æ–°æŒ‰é’®æ–‡æœ¬
        calculateBtn.textContent = trans.calculateBtn;

        // æ›´æ–°å ä½ç¬¦æ–‡æœ¬
        categorySearch.placeholder = trans.categorySearchPlaceholder;
        purchasePrice.placeholder = trans.purchasePlaceholder;
        shippingCost.placeholder = trans.shippingPlaceholder;
        grossProfit.placeholder = trans.grossProfitPlaceholder; // ä¿®æ”¹ä¸ºè®¡åˆ’æ¯›åˆ©
        cashback.placeholder = trans.cashbackPlaceholder;
        weight.placeholder = trans.weightPlaceholder;
        length.placeholder = trans.lengthPlaceholder;
        width.placeholder = trans.widthPlaceholder;
        height.placeholder = trans.heightPlaceholder;
        exchangeRate.placeholder = trans.exchangePlaceholder;

        // æ›´æ–°å¼€å…³æ ‡ç­¾æ–‡æœ¬
        overseasToggleLabel.textContent = trans.overseasToggleLabel;
        firstmileToggleLabel.textContent = trans.firstmileToggleLabel;
        withdrawalFeeToggleLabel.textContent = trans.withdrawalFeeToggleLabel;
        exchangeLossToggleLabel.textContent = trans.exchangeLossToggleLabel;
        remittanceFeeToggleLabel.textContent = trans.remittanceFeeToggleLabel;

        // æ›´æ–°åˆ†ç±»é€‰æ‹©æ¡†
        populateCategorySelect(categorySelect, categories, currentLanguage === 'zh' ? '-- è¯·é€‰æ‹©å•†å“åˆ†ç±» --' : '-- Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ñ Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ° --');

        // æ›´æ–°ä½£é‡‘æ˜¾ç¤º
        commissionDisplay.textContent = trans.commissionLabel + (currentCommission * 100).toFixed(0) + '%';
        
        // æ›´æ–°å†å²è®°å½•åŒºåŸŸæ–‡æœ¬
        document.getElementById('history-title').textContent = trans.historyTitle;
        exportHistoryBtn.textContent = trans.exportBtn;
        clearHistoryBtn.textContent = trans.clearBtn;
        
        // é‡æ–°æ¸²æŸ“å†å²è®°å½•è¡¨æ ¼
        renderHistoryTable();
        
        // æ›´æ–°è”ç³»æ–‡æœ¬
        updateContactText();
        
        // æ›´æ–°å¹¿å‘Šæ ‡é¢˜
        document.getElementById('ad-title').textContent = trans.adTitle;
        
        // æ›´æ–°å…è´£å£°æ˜
        document.getElementById('disclaimer-title').textContent = trans.disclaimerTitle;
        document.getElementById('disclaimer-content').innerHTML = 
            `<p>${trans.disclaimerText1}</p><p>${trans.disclaimerText2}</p>`;
        
        // æ›´æ–°å€’è®¡æ—¶æ–‡æœ¬å‰ç¼€
        document.getElementById('countdown-text').textContent = trans.countdownText + formatTime(expiryDate - Date.now());
    }
    
    // æ›´æ–°è”ç³»æ–‡æœ¬çš„å‡½æ•°
    function updateContactText() {
        const trans = translations[currentLanguage];
        const contactSpan = document.querySelector('.contact-info span');
        if (contactSpan) {
            contactSpan.textContent = trans.contactLabel || "ä¸šåŠ¡å’¨è¯¢ï¼š";
        }
        const contactLinkElem = document.getElementById('contact-link');
        if (contactLinkElem) {
            contactLinkElem.textContent = trans.contactLinkText || "ç‚¹å‡»è”ç³»å®¢æœ";
        }
    }

    // éªŒè¯è¾“å…¥
    function validateInputs() {
        let isValid = true;

        // éšè—æ‰€æœ‰é”™è¯¯æ¶ˆæ¯
        exchangeError.style.display = 'none';
        purchaseError.style.display = 'none';
        shippingError.style.display = 'none';
        profitError.style.display = 'none';
        weightError.style.display = 'none';

        // éªŒè¯æ±‡ç‡
        const rate = parseFloat(exchangeRate.value);
        if (isNaN(rate)) {
            exchangeError.textContent = currentLanguage === 'zh' ? 'è¯·è¾“å…¥æ±‡ç‡' : 'Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ ĞºÑƒÑ€Ñ Ğ¾Ğ±Ğ¼ĞµĞ½Ğ°';
            exchangeError.style.display = 'block';
            isValid = false;
        } else if (rate <= 0) {
            exchangeError.textContent = currentLanguage === 'zh' ? 'æ±‡ç‡å¿…é¡»å¤§äº0' : 'ĞšÑƒÑ€Ñ Ğ´Ğ¾Ğ»Ğ¶ĞµĞ½ Ğ±Ñ‹Ñ‚ÑŒ Ğ±Ğ¾Ğ»ÑŒÑˆĞµ 0';
            exchangeError.style.display = 'block';
            isValid = false;
        }

        // éªŒè¯é‡‡è´­ä»·
        const purchase = parseFloat(purchasePrice.value);
        if (isNaN(purchase) || purchase < 0) {
            purchaseError.textContent = currentLanguage === 'zh' ? 'è¯·è¾“å…¥æœ‰æ•ˆçš„é‡‡è´­ä»·' : 'Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ‚ĞµĞ»ÑŒĞ½ÑƒÑ Ğ·Ğ°ĞºÑƒĞ¿Ğ¾Ñ‡Ğ½ÑƒÑ Ñ†ĞµĞ½Ñƒ';
            purchaseError.style.display = 'block';
            isValid = false;
        }

        // éªŒè¯è¿è´¹
        const shipping = parseFloat(shippingCost.value);
        if (isNaN(shipping) || shipping < 0) {
            shippingError.textContent = currentLanguage === 'zh' ? 'è¯·è¾“å…¥æœ‰æ•ˆçš„è¿è´¹' : 'Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ‚ĞµĞ»ÑŒĞ½ÑƒÑ ÑÑ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ Ğ´Ğ¾ÑÑ‚Ğ°Ğ²ĞºĞ¸';
            shippingError.style.display = 'block';
            isValid = false;
        }

        // éªŒè¯è®¡åˆ’æ¯›åˆ©
        const profitInput = parseFloat(grossProfit.value);
        if (isNaN(profitInput) || profitInput < 0) {
            profitError.textContent = currentLanguage === 'zh' ? 'è¯·è¾“å…¥æœ‰æ•ˆçš„è®¡åˆ’æ¯›åˆ©' : 'Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ‚ĞµĞ»ÑŒĞ½ÑƒÑ Ğ¿Ğ»Ğ°Ğ½Ğ¾Ğ²ÑƒÑ Ğ²Ğ°Ğ»Ğ¾Ğ²ÑƒÑ Ğ¿Ñ€Ğ¸Ğ±Ñ‹Ğ»ÑŒ';
            profitError.style.display = 'block';
            isValid = false;
        }

        // éªŒè¯é‡é‡
        const w = parseFloat(weight.value);
        if (isNaN(w) || w <= 0) {
            weightError.textContent = currentLanguage === 'zh' ? 'è¯·è¾“å…¥æœ‰æ•ˆçš„é‡é‡' : 'Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğ¹ Ğ²ĞµÑ';
            weightError.style.display = 'block';
            isValid = false;
        }

        return isValid;
    }

    // è®¡ç®—ä½“ç§¯
    function calculateVolume() {
        const l = parseFloat(length.value) || 0;
        const w = parseFloat(width.value) || 0;
        const h = parseFloat(height.value) || 0;

        if (l > 0 && w > 0 && h > 0) {
            const vol = (l / 100) * (w / 100) * (h / 100);
            volume.value = vol.toFixed(4) + ' mÂ³';
            return vol;
        }

        volume.value = '';
        return 0;
    }

    // åˆå§‹åŒ–é»˜è®¤å•ä»·
    function initializeDefaultPrices() {
        const rate = parseFloat(exchangeRate.value) || 70;

        // æ£€æŸ¥ç”¨æˆ·æ˜¯å¦æ‰‹åŠ¨ä¿®æ”¹è¿‡å€¼
        const overseasUserSet = overseasUnitPrice.dataset.userSet === 'true';
        const firstMileUserSet = firstMileUnitPrice.dataset.userSet === 'true';

        // ä¸­æ–‡ç•Œé¢ï¼šæ˜¾ç¤ºåšæˆˆå€¼é™¤ä»¥æ±‡ç‡ï¼ˆäººæ°‘å¸å€¼ï¼‰
        if (currentLanguage === 'zh') {
            if (!overseasUserSet) {
                overseasUnitPrice.value = (1000 / rate).toFixed(2);
            }
            if (!firstMileUserSet) {
                firstMileUnitPrice.value = (100 / rate).toFixed(2);
            }
        }
        // ä¿„è¯­ç•Œé¢ï¼šç›´æ¥æ˜¾ç¤ºåšæˆˆå€¼
        else {
            if (!overseasUserSet) {
                overseasUnitPrice.value = "1000";
            }
            if (!firstMileUserSet) {
                firstMileUnitPrice.value = "100";
            }
        }
    }

    // è®¡ç®—æ‰€æœ‰è´¹ç”¨å¹¶æ˜¾ç¤ºç»“æœ
    function calculateAll() {
        // éªŒè¯è¾“å…¥
        if (!validateInputs()) {
            return;
        }

        // è·å–è¾“å…¥å€¼
        const rate = parseFloat(exchangeRate.value);
        const purchase = parseFloat(purchasePrice.value) || 0;
        const shipping = parseFloat(shippingCost.value) || 0;
        const grossProfitInput = parseFloat(grossProfit.value) || 0; // è®¡åˆ’æ¯›åˆ©
        const cb = parseFloat(cashback.value) || 0;
        const w = parseFloat(weight.value) || 0;
        const vol = calculateVolume();
        const cat = currentCommission;

        // è·å–è´¹ç”¨å•ä»·ï¼ˆæ ¹æ®è¯­è¨€è½¬æ¢ä¸ºäººæ°‘å¸ï¼‰
        let overseasUnit, firstMileUnit;
        if (currentLanguage === 'zh') {
            // ä¸­æ–‡ç•Œé¢ï¼šç”¨æˆ·è¾“å…¥çš„æ˜¯äººæ°‘å¸
            overseasUnit = parseFloat(overseasUnitPrice.value) || 0;
            firstMileUnit = parseFloat(firstMileUnitPrice.value) || 0;
        } else {
            // ä¿„è¯­ç•Œé¢ï¼šç”¨æˆ·è¾“å…¥çš„æ˜¯åšæˆˆï¼Œè½¬æ¢ä¸ºäººæ°‘å¸
            overseasUnit = (parseFloat(overseasUnitPrice.value) || 0) / rate;
            firstMileUnit = (parseFloat(firstMileUnitPrice.value) || 0) / rate;
        }

        // è®¡ç®—Kaspiå”®ä»·ï¼ˆäººæ°‘å¸ï¼‰ - ä½¿ç”¨è®¡åˆ’æ¯›åˆ©
        let kaspiPriceCnyValue;
        if (currentLanguage === 'ru') {
            // ä¿„è¯­ç•Œé¢ï¼šé‡‡è´­ä»·å’Œè¿è´¹æ˜¯åšæˆˆï¼Œè®¡åˆ’æ¯›åˆ©ä¹Ÿæ˜¯åšæˆˆ
            kaspiPriceCnyValue = (purchase + shipping + grossProfitInput) / rate;
        } else {
            // ä¸­æ–‡ç•Œé¢ï¼šé‡‡è´­ä»·å’Œè¿è´¹æ˜¯äººæ°‘å¸ï¼Œè®¡åˆ’æ¯›åˆ©ä¹Ÿæ˜¯äººæ°‘å¸
            kaspiPriceCnyValue = purchase + shipping + grossProfitInput;
        }

        // è®¡ç®—Kaspiå”®ä»·ï¼ˆåšæˆˆï¼‰
        const kaspiPriceKztValue = kaspiPriceCnyValue * rate;

        // æ›´æ–°åŒåˆ—Kaspiå”®ä»·æ˜¾ç¤º
        kaspiPriceCny.value = kaspiPriceCnyValue.toFixed(2) + 'Â¥';
        kaspiPriceKzt.value = kaspiPriceKztValue.toFixed(2) + 'â‚¸';

        // æµ·å¤–ä»“è´¹ç”¨è®¡ç®—
        let overseasValue = 0;
        if (overseasToggle.checked && vol > 0) {
            if (vol <= 1) {
                overseasValue = overseasUnit;
            } else {
                overseasValue = Math.ceil(vol) * overseasUnit;
            }
        }

        // å¤´ç¨‹è´¹ç”¨è®¡ç®—
        let firstMileValue = 0;
        if (firstMileToggle.checked && vol > 0) {
            if (vol <= 0.01) {
                firstMileValue = firstMileUnit;
            } else {
                firstMileValue = vol * 100 * firstMileUnit;
            }
        }

        // 4. è®¡ç®—ä¸‹å•è¿”åˆ©ï¼ˆäººæ°‘å¸ï¼‰
        const cashbackValue = (cb / 100 * kaspiPriceKztValue) / rate;

        // 5. è®¡ç®—Kaspiè¿è´¹ï¼ˆäººæ°‘å¸ï¼‰
        let kaspiShippingValue = 0;
        if (kaspiPriceKztValue > 0) {
            if (kaspiPriceKztValue < 5000) {
                kaspiShippingValue = 0;
            } else if (kaspiPriceKztValue <= 15000) {
                kaspiShippingValue = 799 / rate;
            } else {
                if (w < 5) {
                    kaspiShippingValue = 1299 / rate;
                } else if (w <= 15) {
                    kaspiShippingValue = 1699 / rate;
                } else if (w <= 50) {
                    kaspiShippingValue = 3599 / rate;
                } else {
                    kaspiShippingValue = 6499 / rate;
                }
            }
        }

        // 6. è®¡ç®—å¹³å°ä½£é‡‘ï¼ˆäººæ°‘å¸ï¼‰
        const platformFeeValue = (kaspiPriceKztValue * cat) / rate;

        // 7. è®¡ç®—æç°ç¨ï¼ˆ4%ï¼‰ï¼ˆäººæ°‘å¸ï¼‰
        const baseAmount = kaspiPriceKztValue / rate;
        const withdrawalTaxValue = (baseAmount - cashbackValue - kaspiShippingValue - platformFeeValue) * 0.04;

        // 8. è®¡ç®—Kaspi payæç°åˆ°è´¦é‡‘é¢ï¼ˆäººæ°‘å¸ï¼‰
        const kaspiPayAmountValue = baseAmount - cashbackValue - kaspiShippingValue - platformFeeValue - withdrawalTaxValue;

        // 9. è®¡ç®—æç°æ‰‹ç»­è´¹ï¼ˆ1%ï¼‰ï¼ˆäººæ°‘å¸ï¼‰ - è€ƒè™‘å¼€å…³çŠ¶æ€
        let withdrawalFeeValue = 0;
        if (withdrawalFeeToggle.checked) {
            withdrawalFeeValue = kaspiPayAmountValue * 0.01;
        }

        // 10. è®¡ç®—å›æ¬¾é‡‘é¢ï¼ˆäººæ°‘å¸ï¼‰
        const returnAmountValue = kaspiPayAmountValue - withdrawalFeeValue - overseasValue - firstMileValue;

        // 11. è®¡ç®—æ±‡æŸï¼ˆ1.42%ï¼‰ï¼ˆäººæ°‘å¸ï¼‰ - è€ƒè™‘å¼€å…³çŠ¶æ€
        let exchangeLossValue = 0;
        if (exchangeLossToggle.checked) {
            exchangeLossValue = returnAmountValue * 0.0142;
        }

        // 12. è®¡ç®—æ±‡æ¬¾æ‰‹ç»­è´¹ï¼ˆäººæ°‘å¸ï¼‰ - è€ƒè™‘å¼€å…³çŠ¶æ€
        let remittanceFeeValue = 0;
        if (remittanceFeeToggle.checked && returnAmountValue > 0) {
            const method = paymentMethod.value;
            switch (method) {
                case 'publicToPublic':
                    if (returnAmountValue <= 10000) {
                        remittanceFeeValue = 5;
                    } else if (returnAmountValue <= 100000) {
                        remittanceFeeValue = 10;
                    } else if (returnAmountValue <= 500000) {
                        remittanceFeeValue = 15;
                    } else if (returnAmountValue <= 1000000) {
                        remittanceFeeValue = 20;
                    } else {
                        remittanceFeeValue = Math.min(200, Math.ceil(returnAmountValue * 0.00002 * 100) / 100);
                    }
                    break;
                case 'publicToPrivate':
                    if (returnAmountValue <= 10000) {
                        remittanceFeeValue = 5;
                    } else if (returnAmountValue <= 100000) {
                        remittanceFeeValue = 10;
                    } else if (returnAmountValue <= 500000) {
                        remittanceFeeValue = 15;
                    } else if (returnAmountValue <= 1000000) {
                        remittanceFeeValue = 20;
                    } else {
                        remittanceFeeValue = Math.min(200, Math.ceil(returnAmountValue * 0.00002 * 100) / 100);
                    }
                    break;
                case 'privateToPrivate':
                    if (returnAmountValue <= 5000) {
                        remittanceFeeValue = 0;
                    } else if (returnAmountValue <= 10000) {
                        remittanceFeeValue = 5;
                    } else if (returnAmountValue <= 50000) {
                        remittanceFeeValue = 7.5;
                    } else {
                        remittanceFeeValue = Math.min(25, Math.ceil(returnAmountValue * 0.00015 * 100) / 100);
                    }
                    break;
                case 'wechat':
                    remittanceFeeValue = Math.max(0.1, Math.ceil(returnAmountValue * 0.001 * 100) / 100);
                    break;
                case 'alipay':
                    remittanceFeeValue = Math.max(0.1, Math.ceil(returnAmountValue * 0.001 * 100) / 100);
                    break;
                case 'kaspi':
                    remittanceFeeValue = 0;
                    break;
                default:
                    remittanceFeeValue = 0;
            }
        }

        // 13. è®¡ç®—é¢„ä¼°åˆ°è´¦é‡‘é¢ï¼ˆäººæ°‘å¸ï¼‰
        const estimatedAmountValue = returnAmountValue - exchangeLossValue - remittanceFeeValue;

        // 14. è®¡ç®—åˆ©æ¶¦
        let profitValue;
        if (currentLanguage === 'ru') {
            // ä¿„è¯­ç•Œé¢:è¾“å…¥å€¼æ˜¯åšæˆˆ,éœ€è¦è½¬æ¢ä¸ºäººæ°‘å¸
            const purchaseInCNY = purchase / rate;
            const shippingInCNY = shipping / rate;
            const grossProfitInCNY = grossProfitInput / rate;
            profitValue = estimatedAmountValue - purchaseInCNY - shippingInCNY;
        } else {
            // ä¸­æ–‡ç•Œé¢:è¾“å…¥å€¼å·²ç»æ˜¯äººæ°‘å¸
            profitValue = estimatedAmountValue - purchase - shipping;
        }

        // æ˜¾ç¤ºç»“æœæ—¶çš„è´§å¸è½¬æ¢
        const currencyRate = currentCurrency === 'kzt' ? rate : 1;
        const currencySymbol = currentCurrency === 'kzt' ? 'â‚¸' : 'Â¥';

        // æ›´æ–°æ˜¾ç¤ºç»“æœ
        overseasWarehouse.value = (overseasValue * currencyRate).toFixed(2) + currencySymbol;
        firstMile.value = (firstMileValue * currencyRate).toFixed(2) + currencySymbol;
        cashbackAmount.value = (cashbackValue * currencyRate).toFixed(2) + currencySymbol;
        kaspiShipping.value = (kaspiShippingValue * currencyRate).toFixed(2) + currencySymbol;
        platformFee.value = (platformFeeValue * currencyRate).toFixed(2) + currencySymbol;
        withdrawalTax.value = (withdrawalTaxValue * currencyRate).toFixed(2) + currencySymbol;
        withdrawalFee.value = (withdrawalFeeValue * currencyRate).toFixed(2) + currencySymbol;
        exchangeLoss.value = (exchangeLossValue * currencyRate).toFixed(2) + currencySymbol;
        remittanceFee.value = (remittanceFeeValue * currencyRate).toFixed(2) + currencySymbol;
        kaspiPayAmount.textContent = (kaspiPayAmountValue * currencyRate).toFixed(2) + currencySymbol;
        returnAmountDisplay.textContent = (returnAmountValue * currencyRate).toFixed(2) + currencySymbol;
        estimatedAmount.textContent = (estimatedAmountValue * currencyRate).toFixed(2) + currencySymbol;
        profit.textContent = (profitValue * currencyRate).toFixed(2) + currencySymbol;

        // æ ¹æ®åˆ©æ¶¦å€¼è®¾ç½®é¢œè‰²
        if (profitValue > 0) {
            profit.style.color = '#27ae60';
        } else if (profitValue < 0) {
            profit.style.color = '#c0392b';
        } else {
            profit.style.color = '#e65100';
        }

        // æ›´æ–°å¼€å…³æ ‡ç­¾çŠ¶æ€
        updateToggleLabels();

        // åœ¨è®¡ç®—å®Œæˆåï¼Œæ·»åŠ å†å²è®°å½•
        addHistoryRecord();
    }

    // æ·»åŠ å†å²è®°å½•å‡½æ•°
    function addHistoryRecord() {
        // æ”¶é›†æ‰€æœ‰éœ€è¦è®°å½•çš„æ•°æ®
        const trans = translations[currentLanguage];
        const record = {
            timestamp: new Date().toLocaleString(),
            category: categorySelect.options[categorySelect.selectedIndex].text,
            purchasePrice: purchasePrice.value,
            shippingCost: shippingCost.value,
            grossProfit: grossProfit.value,
            cashback: cashback.value,
            paymentMethod: paymentMethod.options[paymentMethod.selectedIndex].text,
            dimensions: `${length.value || 0}Ã—${width.value || 0}Ã—${height.value || 0}`,
            volume: volume.value,
            weight: weight.value,
            overseasWarehouse: overseasWarehouse.value,
            firstMile: firstMile.value,
            cashbackAmount: cashbackAmount.value,
            kaspiShipping: kaspiShipping.value,
            platformFee: platformFee.value,
            withdrawalTax: withdrawalTax.value,
            withdrawalFee: withdrawalFee.value,
            exchangeLoss: exchangeLoss.value,
            remittanceFee: remittanceFee.value,
            kaspiPayAmount: kaspiPayAmount.textContent,
            returnAmount: returnAmountDisplay.textContent,
            estimatedAmount: estimatedAmount.textContent,
            profit: profit.textContent,
            currency: currentCurrency === 'cny' ? trans.cnyLabel : trans.kztLabel
        };
        
        // æ·»åŠ åˆ°å†å²è®°å½•æ•°ç»„
        historyRecords.push(record);
        
        // æ¸²æŸ“è¡¨æ ¼
        renderHistoryTable();
    }
    
    // æ¸²æŸ“å†å²è®°å½•è¡¨æ ¼
    function renderHistoryTable() {
        const trans = translations[currentLanguage];
        historyTableBody.innerHTML = '';
        
        // æ›´æ–°è¡¨å¤´ç¿»è¯‘
        const headerRow = document.querySelector('#historyTable thead tr');
        if (headerRow) {
            headerRow.innerHTML = '';
            trans.historyTableHeaders.forEach(header => {
                const th = document.createElement('th');
                th.textContent = header;
                headerRow.appendChild(th);
            });
        }
        
        historyRecords.forEach((record, index) => {
            const row = document.createElement('tr');
            
            // æ·»åŠ æ•°æ®å•å…ƒæ ¼
            row.innerHTML = `
                <td>${record.category}</td>
                <td>${record.purchasePrice}</td>
                <td>${record.shippingCost}</td>
                <td>${record.grossProfit}</td>
                <td>${record.cashback}</td>
                <td>${record.paymentMethod}</td>
                <td>${record.dimensions}</td>
                <td>${record.volume}</td>
                <td>${record.weight}</td>
                <td>${record.overseasWarehouse}</td>
                <td>${record.firstMile}</td>
                <td>${record.cashbackAmount}</td>
                <td>${record.kaspiShipping}</td>
                <td>${record.platformFee}</td>
                <td>${record.withdrawalTax}</td>
                <td>${record.withdrawalFee}</td>
                <td>${record.exchangeLoss}</td>
                <td>${record.remittanceFee}</td>
                <td>${record.kaspiPayAmount}</td>
                <td>${record.returnAmount}</td>
                <td>${record.estimatedAmount}</td>
                <td>${record.profit}</td>
                <td>${record.currency}</td>
                <td><button class="delete-btn" data-index="${index}">${trans.deleteBtn || 'åˆ é™¤'}</button></td>
            `;
            
            historyTableBody.appendChild(row);
        });
        
        // æ·»åŠ åˆ é™¤æŒ‰é’®äº‹ä»¶ç›‘å¬
        document.querySelectorAll('.delete-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const index = parseInt(this.dataset.index);
                deleteHistoryRecord(index);
            });
        });
    }
    
    // åˆ é™¤å†å²è®°å½•
    function deleteHistoryRecord(index) {
        historyRecords.splice(index, 1);
        renderHistoryTable();
    }
    
    // å¯¼å‡ºå†å²è®°å½•ä¸ºCSV
    function exportHistoryToCSV() {
        const trans = translations[currentLanguage];
        if (historyRecords.length === 0) {
            alert(trans.historyTitle + ' ' + (currentLanguage === 'zh' ? 'ä¸ºç©º' : 'Ğ¿ÑƒÑÑ‚Ğ°'));
            return;
        }
        
        // åˆ›å»ºCSVæ ‡é¢˜è¡Œ
        let csvContent = trans.historyTableHeaders.join(',') + '\n';
        
        // æ·»åŠ æ•°æ®è¡Œ
        historyRecords.forEach(record => {
            const row = [
                record.category,
                record.purchasePrice,
                record.shippingCost,
                record.grossProfit,
                record.cashback,
                record.paymentMethod,
                record.dimensions,
                record.volume,
                record.weight,
                record.overseasWarehouse,
                record.firstMile,
                record.cashbackAmount,
                record.kaspiShipping,
                record.platformFee,
                record.withdrawalTax,
                record.withdrawalFee,
                record.exchangeLoss,
                record.remittanceFee,
                record.kaspiPayAmount,
                record.returnAmount,
                record.estimatedAmount,
                record.profit,
                record.currency,
                record.timestamp
            ];
            csvContent += row.map(field => `"${field}"`).join(',') + '\n';
        });
        
        // åˆ›å»ºä¸‹è½½é“¾æ¥
        const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
        const url = URL.createObjectURL(blob);
        const link = document.createElement('a');
        const timestamp = new Date().toISOString().replace(/[:.]/g, '-');
        
        link.setAttribute('href', url);
        link.setAttribute('download', `kaspi_history_${timestamp}.csv`);
        link.style.visibility = 'hidden';
        
        document.body.appendChild(link);
        link.click();
        document.body.removeChild(link);
    }
    
    // æ¸…ç©ºå†å²è®°å½•
    function clearHistory() {
        const trans = translations[currentLanguage];
        if (confirm(currentLanguage === 'zh' ? 'ç¡®å®šè¦æ¸…ç©ºæ‰€æœ‰å†å²è®°å½•å—ï¼Ÿ' : 'Ğ’Ñ‹ ÑƒĞ²ĞµÑ€ĞµĞ½Ñ‹, Ñ‡Ñ‚Ğ¾ Ñ…Ğ¾Ñ‚Ğ¸Ñ‚Ğµ Ğ¾Ñ‡Ğ¸ÑÑ‚Ğ¸Ñ‚ÑŒ Ğ²ÑÑ Ğ¸ÑÑ‚Ğ¾Ñ€Ğ¸Ñ?')) {
            historyRecords = [];
            renderHistoryTable();
        }
    }
    
    // æ·»åŠ äº‹ä»¶ç›‘å¬å™¨
    exportHistoryBtn.addEventListener('click', exportHistoryToCSV);
    clearHistoryBtn.addEventListener('click', clearHistory);

    // æ›´æ–°å¼€å…³æ ‡ç­¾çŠ¶æ€
    function updateToggleLabels() {
        const toggles = [
            { toggle: overseasToggle, label: document.querySelector('#overseas-label') },
            { toggle: firstMileToggle, label: document.querySelector('#firstmile-label') },
            { toggle: withdrawalFeeToggle, label: document.querySelector('#withdrawal-fee-label') },
            { toggle: exchangeLossToggle, label: document.querySelector('#exchange-loss-label') },
            { toggle: remittanceFeeToggle, label: document.querySelector('#remittance-fee-label') }
        ];

        toggles.forEach(item => {
            if (item.toggle.checked) {
                item.label.classList.remove('toggle-off');
            } else {
                item.label.classList.add('toggle-off');
            }
        });
    }

    // æ·»åŠ äº‹ä»¶ç›‘å¬å™¨
    calculateBtn.addEventListener('click', calculateAll);

    // å¼€å…³å˜åŒ–æ—¶é‡æ–°è®¡ç®—
    overseasToggle.addEventListener('change', calculateAll);
    firstMileToggle.addEventListener('change', calculateAll);
    withdrawalFeeToggle.addEventListener('change', calculateAll);
    exchangeLossToggle.addEventListener('change', calculateAll);
    remittanceFeeToggle.addEventListener('change', calculateAll);

    // è´¹ç”¨å•ä»·å˜åŒ–æ—¶é‡æ–°è®¡ç®—
    overseasUnitPrice.addEventListener('input', function () {
        this.dataset.userSet = 'true';
        calculateAll();
    });
    firstMileUnitPrice.addEventListener('input', function () {
        this.dataset.userSet = 'true';
        calculateAll();
    });

    // å°ºå¯¸å˜åŒ–æ—¶è‡ªåŠ¨è®¡ç®—ä½“ç§¯
    length.addEventListener('input', calculateVolume);
    width.addEventListener('input', calculateVolume);
    height.addEventListener('input', calculateVolume);

    // è¾“å…¥å˜åŒ–æ—¶éšè—é”™è¯¯æ¶ˆæ¯
    exchangeRate.addEventListener('input', function () {
        exchangeError.style.display = 'none';
        // æ±‡ç‡å˜åŒ–æ—¶æ›´æ–°é»˜è®¤å•ä»·
        initializeDefaultPrices();
        calculateAll();
    });
    purchasePrice.addEventListener('input', () => purchaseError.style.display = 'none');
    shippingCost.addEventListener('input', () => shippingError.style.display = 'none');
    grossProfit.addEventListener('input', () => profitError.style.display = 'none'); // è®¡åˆ’æ¯›åˆ©
    weight.addEventListener('input', () => weightError.style.display = 'none');
    
    // æ–°å¢å¼¹çª—åŠŸèƒ½ä»£ç 
    const modal = document.getElementById('contactModal');
    const contactLink = document.getElementById('contact-link');
    const modalBody = document.getElementById('modalBody');
    const closeBtn = document.querySelector('.close');
    
    // ç‚¹å‡»è”ç³»é“¾æ¥æ˜¾ç¤ºå¼¹çª—
    if (contactLink) {
        contactLink.addEventListener('click', function(e) {
            e.preventDefault();
            
            if (currentLanguage === 'zh') {
                // ä¸­æ–‡æ˜¾ç¤ºè”ç³»æ–¹å¼å›¾ç‰‡
                modalBody.innerHTML = `
                    <h3>è”ç³»æˆ‘ä»¬</h3>
                    <p>ä¸šåŠ¡å’¨è¯¢è¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š</p>
                    <img src="lxfs.jpg" alt="è”ç³»æ–¹å¼">
                    <p>æ‰«æäºŒç»´ç æˆ–ä¿å­˜å›¾ç‰‡è”ç³»å®¢æœ</p>
                `;
            } else {
                // ä¿„è¯­æ˜¾ç¤ºWhatsAppå·ç 
                modalBody.innerHTML = `
                    <h3>Ğ¡Ğ²ÑĞ¶Ğ¸Ñ‚ĞµÑÑŒ Ñ Ğ½Ğ°Ğ¼Ğ¸</h3>
                    <p>Ğ”Ğ»Ñ ĞºĞ¾Ğ½ÑÑƒĞ»ÑŒÑ‚Ğ°Ñ†Ğ¸Ğ¸ Ğ¿Ğ¾ Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑĞ°Ğ¼ Ğ±Ğ¸Ğ·Ğ½ĞµÑĞ°:</p>
                    <div class="whatsapp-contact">
                        <p><strong>WhatsApp:</strong></p>
                        <p class="phone-number">+7 (705) 911-91-43</p>
                    </div>
                    <p>Ğ Ğ°Ğ±Ğ¾Ñ‡ĞµĞµ Ğ²Ñ€ĞµĞ¼Ñ: ĞŸĞ½-ĞŸÑ‚, 9:00-18:00</p>
                `;
            }
            
            modal.style.display = 'block';
        });
    }
    
    // å…³é—­å¼¹çª—
    if (closeBtn) {
        closeBtn.addEventListener('click', function() {
            modal.style.display = 'none';
        });
    }
    
    // ç‚¹å‡»å¼¹çª—å¤–éƒ¨å…³é—­
    window.addEventListener('click', function(e) {
        if (e.target === modal) {
            modal.style.display = 'none';
        }
    });
    
    // éªŒè¯æœåŠ¡æœ‰æ•ˆæœŸ
    function validateService() {
        // ä»localStorageä¸­è·å–æœåŠ¡ä¿¡æ¯
        const serviceInfo = JSON.parse(localStorage.getItem('kaspitAuth'));
        
        if (!serviceInfo) {
            // æ²¡æœ‰æœåŠ¡ä¿¡æ¯ï¼Œè·³è½¬
            redirectToAyaCare();
            return false;
        }
        
        // éªŒè¯å­—æ®µæ˜¯å¦å­˜åœ¨
        if (!serviceInfo.key || !serviceInfo.encrypted || !serviceInfo.deviceId || !serviceInfo.expiryDate) {
            redirectToAyaCare();
            return false;
        }
        
        // éªŒè¯æœ‰æ•ˆæœŸ
        const currentTime = Date.now();
        expiryDate = parseInt(serviceInfo.expiryDate);
        
        if (currentTime > expiryDate) {
            redirectToAyaCare();
            return false;
        }
        
        // éªŒè¯é€šè¿‡ï¼Œå¼€å§‹å€’è®¡æ—¶
        startCountdown();
        return true;
    }
    
    // å¯åŠ¨å€’è®¡æ—¶
    function startCountdown() {
        // æ¸…é™¤å·²æœ‰è®¡æ—¶å™¨
        if (countdownInterval) {
            clearInterval(countdownInterval);
        }
        
        // æ¯ç§’æ›´æ–°å€’è®¡æ—¶
        countdownInterval = setInterval(function() {
            const currentTime = Date.now();
            const timeLeft = expiryDate - currentTime;
            
            if (timeLeft <= 0) {
                clearInterval(countdownInterval);
                redirectToAyaCare();
                return;
            }
            
            // æ›´æ–°å€’è®¡æ—¶æ˜¾ç¤º
            countdownElement.textContent = translations[currentLanguage].countdownText + formatTime(timeLeft);
        }, 1000);
        
        // æ˜¾ç¤ºå€’è®¡æ—¶
        countdownContainer.style.display = 'flex';
    }
    
    // æ ¼å¼åŒ–æ—¶é—´
    function formatTime(ms) {
        const totalSeconds = Math.floor(ms / 1000);
        const days = Math.floor(totalSeconds / (3600 * 24));
        const hours = Math.floor((totalSeconds % (3600 * 24)) / 3600);
        const minutes = Math.floor((totalSeconds % 3600) / 60);
        const seconds = totalSeconds % 60;
        
        return `${days}å¤© ${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
    }
    
    // è·³è½¬åˆ°æŒ‡å®šç½‘ç«™
    function redirectToAyaCare() {
        window.location.href = 'https://ayacare.github.io/AyaCare/KaspiPricePilot';
    }
    
    // æ ¹æ®è®¾å¤‡è¯­è¨€è®¾ç½®åˆå§‹è¯­è¨€
    function detectDeviceLanguage() {
        const userLang = navigator.language || navigator.userLanguage;
        
        if (userLang.startsWith('ru') || userLang.startsWith('be') || userLang.startsWith('kk')) {
            return 'ru';
        } else if (userLang.startsWith('zh')) {
            return 'zh';
        }
        
        return 'zh'; // é»˜è®¤ä¸­æ–‡
    }

    // åˆå§‹åŒ–é¡µé¢
    function initializePage() {
        // è®¾ç½®åˆå§‹è¯­è¨€
        currentLanguage = detectDeviceLanguage();
        
        // éªŒè¯æœåŠ¡
        if (!validateService()) {
            return;
        }
        
        // æ›´æ–°è¯­è¨€æŒ‰é’®çŠ¶æ€
        document.querySelectorAll('.lang-btn').forEach(btn => {
            if (btn.dataset.lang === currentLanguage) {
                btn.classList.add('active');
            } else {
                btn.classList.remove('active');
            }
        });
        
        // æ›´æ–°bodyç±»å
        document.body.className = '';
        document.body.classList.add(`lang-${currentLanguage}`);
        
        updateLanguage();
        initializeDefaultPrices();
        calculateVolume();
        calculateAll();
        updateContactText(); // åˆå§‹åŒ–è”ç³»æ–‡æœ¬
    }

    // åœ¨DOMContentLoadedäº‹ä»¶çš„æœ€åè°ƒç”¨åˆå§‹åŒ–å‡½æ•°
    initializePage();
});
</script>
</body>
</html>
